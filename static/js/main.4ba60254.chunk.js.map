{"version":3,"sources":["theme.js","controls/FormToolbar.js","controls/FactorCheckBox.js","controls/FactorSlider.js","controls/FormAccordion.js","spec.js","util.js","parts/CrimeSelector.js","parts/AppForm.js","parts/AppMenu.js","parts/CaseAccordion.js","api.js","parts/Page.js","index.js"],"names":["theme","createMuiTheme","palette","primary","indigo","secondary","blue","typography","fontFamily","join","useStyles","makeStyles","root","display","alignItems","space","flexGrow","button","marginLeft","spacing","iconSmall","marginRight","icon","name","FormToolbar","props","classes","canSubmit","otherProps","onClear","onSubmit","className","clsx","Fab","size","variant","onClick","color","disabled","label","ColoredCheckbox","withStyles","main","success","dark","error","checked","Checkbox","FactorCheckBox","value","vibe","onChange","others","Typography","component","data-vibe","e","target","scales","description","switch","minWidth","width","maxWidth","SwitchLikeSlider","height","padding","marginBottom","grey","transition","transitions","create","duration","shortest","thumb","marginTop","content","position","borderRadius","boxShadow","shadows","left","top","right","bottom","track","opacity","rail","backgroundColor","common","black","mark","background","paper","Slider","FactorSlider","id","newValue","aria-labelledby","min","max","steps","marks","data-state","margin","summary","paddingLeft","details","flexDirection","CondenseAccordion","expanded","Accordion","CondenseAccordionSummary","minHeight","AccordionSummary","FormAccordion","elevation","expandIcon","AccordionDetails","children","PENAL_CODE_AMENDMENT_DATE","Date","crimes","text","category","kind","stage","valid_before","valid_after","factors","calculated","factorGroups","title","type","courts","formatSentence","sentence","year","Math","floor","month","filterSpec","list","date","filter","item","undefined","useCrimes","useFactors","nameOfStages","Map","tab","panel","controls","subtitle2","TabPanel","currentIndex","index","role","hidden","ToggleButton","contrastText","action","hoverOpacity","fade","Button","aria-checked","CrimeSelector","categories","forEach","crime","has","set","kinds","get","stages","Set","variants","disabledStages","add","values","f","useCrimeCategories","listOfCategories","find","c","useState","setCurrentIndex","handleFiltering","candidate","Tabs","_","indicatorColor","textColor","aria-label","map","Tab","aria-controls","FormControl","Array","from","k","FormControlLabel","control","Radio","gutterBottom","ButtonGroup","keys","s","includes","FormGroup","v","breakpoints","up","selectTitle","flexShrink","selectControl","CrimeSelect","select","sort","a","b","Select","displayEmpty","inputProps","IconComponent","MenuItem","AppForm","group","factor","useFactorGroups","onCrimeChanged","showFilter","onFactorChanged","Grid","container","xs","sm","md","lg","defaultExpanded","stopPropagation","AppMenu","state","anchorEl","handleButtonClick","bind","handleFilterItemClick","handleHelpItemClick","handleFeedbackItemClick","handleMenuClose","this","setState","currentTarget","onShowFilterChanged","window","open","IconButton","aria-haspopup","Menu","keepMounted","anchorOrigin","vertical","horizontal","transformOrigin","getContentAnchorEl","Boolean","onClose","ListItemIcon","CheckBox","ListItemText","Divider","Help","Feedback","Component","heading","subheading","tableWrapper","sourceButton","paddingRight","alignSelf","CaseAccordion","cid","case_id","m","match","court_name","groups","court","database_id","case","no","formatted_text","parseCaseID","round","relevance","labels","TableContainer","Table","TableBody","TableRow","TableCell","scope","i","endIcon","href","console","info","fetchPrediction","formData","URLSearchParams","append","fetch","method","headers","body","mode","credentials","cache","response","ok","Error","status","json","data","estimation","errorMargin","related_cases","_pk","caseindex","shortid2","sim","Svalue","prison_m","subject","l","Ctype","Ctext","Cvalue","logo","overflowX","default","paddingTop","pane","overflowY","progress","crimePanel","onboardingPanel","textAlign","App","setCrime","setFactors","setShowFilter","setStatus","setData","AppBar","Toolbar","Avatar","noWrap","xl","Paper","then","log","catch","CircularProgress","rootElement","document","getElementById","ThemeProvider","hasChildNodes","hydrate","render"],"mappings":";iMAgBeA,EAZDC,YAAe,CAC3BC,QAAS,CACPC,QAASC,IACTC,UAAWC,KAEbC,WAAY,CACVC,WAAY,CACV,QAAS,YAAa,aAAc,SAAU,YAAa,QAAS,cACpEC,KAAK,Q,yKCLLC,EAAYC,aAAW,SAACX,GAAD,MAAY,CACvCY,KAAM,CACJC,QAAS,OACTC,WAAY,UAEdC,MAAO,CACLC,SAAU,GAEZC,OAAQ,CACNC,WAAYlB,EAAMmB,QAAQ,IAE5BC,UAAW,CACTC,YAAarB,EAAMmB,QAAQ,GAAK,GAElCG,KAAM,CACJD,YAAarB,EAAMmB,QAAQ,OAE3B,CAAEI,KAAM,gBAEG,SAASC,EAAYC,GAClC,IAAMC,EAAUhB,IACXiB,EAA+CF,EAA/CE,UAAiCC,GAAcH,EAApCI,QAAoCJ,EAA3BK,SAFgB,YAEWL,EAFX,qCAIzC,OACE,gDAASG,GAAT,IAAqBG,UAAWC,YAAK,CAACN,EAAQd,KAAMa,EAAMM,YAA1D,UACE,qBAAKA,UAAWL,EAAQX,QACxB,eAACkB,EAAA,EAAD,CAAKF,UAAWL,EAAQT,OAAQiB,KAAK,SAASC,QAAQ,WAAWC,QAASX,EAAMI,QAAhF,UACE,cAAC,IAAD,CAAcE,UAAWL,EAAQN,YADnC,kBAIA,eAACa,EAAA,EAAD,CAAKF,UAAWL,EAAQT,OAAQoB,MAAM,YAAYF,QAAQ,WAAWG,UAAWX,EAAWS,QAASX,EAAMK,SAA1G,UACE,cAAC,IAAD,CAAgBC,UAAWL,EAAQJ,OADrC,sB,+CCjCAZ,EAAYC,aAAW,SAACX,GAAD,MAAY,CACvCY,KAAM,CACJC,QAAS,OACTC,WAAY,UAEdyB,MAAO,CACLvB,SAAU,MAEV,CAAEO,KAAM,mBAENiB,EAAkBC,aAAW,SAACzC,GAAD,MAAY,CAC7CY,KAAM,CACJ,YAAa,CACXyB,MAAOrC,EAAME,QAAQG,UAAUqC,MAEjC,kCAAmC,CACjCL,MAAOrC,EAAME,QAAQyC,QAAQC,MAE/B,kCAAmC,CACjCP,MAAOrC,EAAME,QAAQ2C,MAAMD,OAG/BE,QAAS,MACP,CAAEvB,KAAM,mBAbYkB,EAaS,SAAChB,GAAD,OAAW,cAACsB,EAAA,EAAD,aAAUV,MAAM,WAAcZ,OAE3D,SAASuB,EAAevB,GACrC,IAAMC,EAAUhB,IACRa,EAAkDE,EAAlDF,KAAM0B,EAA4CxB,EAA5CwB,MAAOV,EAAqCd,EAArCc,MAAOW,EAA8BzB,EAA9ByB,KAAMC,EAAwB1B,EAAxB0B,SAAaC,EAFH,YAEc3B,EAFd,4CAI5C,OACE,wBAAOM,UAAWL,EAAQd,KAA1B,UACE,cAACyC,EAAA,EAAD,CAAYC,UAAU,OAAOvB,UAAWL,EAAQa,MAAhD,SAAwDA,IACxD,cAACC,EAAD,aACEjB,KAAMA,EAAMgC,YAAWL,EACvBJ,QAAmB,IAAVG,EACTE,SAAU,SAACK,GAAD,OAAOL,EAASK,EAAGjC,EAAMiC,EAAEC,OAAOX,QAAU,EAAI,KAAQM,O,aCnCpEM,EAAS,CACb,CAAET,OAAQ,EAAGV,MAAO,SAAKoB,YAAa,gBACtC,CAAEV,MAAO,EAAGV,MAAO,GAAIoB,YAAa,sBACpC,CAAEV,MAAO,EAAGV,MAAO,IAAKoB,YAAa,iBAGjCjD,EAAYC,aAAW,SAACX,GAAD,MAAY,CACvCY,KAAM,CACJC,QAAS,OACTC,WAAY,UAEdyB,MAAO,CACLvB,SAAU,GAEZ4C,OAAQ,CACNC,SAAU,GACVC,MAAO,GACPC,SAAU,GACV7C,WAAYlB,EAAMmB,QAAQ,GAC1BE,YAAarB,EAAMmB,QAAQ,OAE3B,CAAEI,KAAM,iBAENyC,EAAmBvB,aAAW,SAACzC,GAAD,MAAY,CAC9CY,KAAM,CACJqD,OAAQ,GACRC,QAAS,SACTC,aAAc,EACd9B,MAAOrC,EAAME,QAAQkE,KAAK,IAC1BC,WAAYrE,EAAMsE,YAAYC,OAAO,CAAC,SAAU,CAC9CC,SAAUxE,EAAMsE,YAAYE,SAASC,WAEvC,0BAA2B,CAAEpC,MAAOrC,EAAME,QAAQyC,QAAQD,MAC1D,0BAA2B,CAAEL,MAAOrC,EAAME,QAAQ2C,MAAMH,OAE1DgC,MAAO,CACLZ,MAAO,GACPG,OAAQ,GACRU,WAAW,EACXzD,YAAY,GACZmD,WAAYrE,EAAMsE,YAAYC,OAAO,CAAC,OAAQ,cAAe,CAC3DC,SAAUxE,EAAMsE,YAAYE,SAASC,WAEvC,YAAa,CACXG,QAAS,KACTC,SAAU,WACVC,aAAc,MACdC,UAAW/E,EAAMgF,QAAQ,GACzBC,KAAM,EAAGC,IAAK,EAAGC,MAAO,EAAGC,OAAQ,GAErC,WAAY,CACVH,MAAO,GAAIC,KAAM,GAAIC,OAAQ,GAAIC,QAAS,IAE5C,UAAW,CACTL,UAAW,wCAGfM,MAAO,CACLpB,OAAQ,GACRqB,QAAS,GACTxB,MAAO,iBACPO,WAAYrE,EAAMsE,YAAYC,OAAO,CAAC,WAAY,CAChDC,SAAUxE,EAAMsE,YAAYE,SAASC,WAEvC,2BAA4B,CAC1BQ,KAAM,gBAER,2BAA4B,CAC1BK,QAAS,EACTxB,MAAO,iBAET,2BAA4B,CAC1BmB,KAAM,mBAGVM,KAAM,CACJtB,OAAQ,GACRa,aAAc,EACdU,gBAAiBxF,EAAME,QAAQuF,OAAOC,MACtCJ,QAAS,IAEXK,KAAM,CACJ1B,OAAQ,GACRuB,gBAAiBxF,EAAME,QAAQ0F,WAAWC,MAC1CP,QAAS,EACT,oBAAqB,CAAEA,QAAS,QAEhC,CAAE/D,KAAM,oBAhEakB,CAgESqD,KAEnB,SAASC,EAAatE,GACnC,IAAMC,EAAUhB,IACRa,EAA4CE,EAA5CF,KAAM0B,EAAsCxB,EAAtCwB,MAAOV,EAA+Bd,EAA/Bc,MAAOY,EAAwB1B,EAAxB0B,SAAaC,EAFC,YAEU3B,EAFV,qCAI1C,OACE,8CAAKM,UAAWL,EAAQd,MAAUwC,GAAlC,cACE,cAACC,EAAA,EAAD,CAAY2C,GAAE,UAAKzE,EAAL,UAAmB+B,UAAU,QAAQvB,UAAWL,EAAQa,MAAtE,SACGA,IAEH,cAACyB,EAAD,CAAkBjC,UAAWL,EAAQkC,OACnCrC,KAAMA,EAAM0B,MAAOA,EAAOE,SAAU,SAACK,EAAGyC,GAAJ,OAAiB9C,EAASK,EAAGjC,EAAM0E,IACvEC,kBAAA,UAAoB3E,EAApB,UACA4E,KAAM,EAAGC,IAAK,EAAGC,MAAO,KAAMC,MAAO5C,EACrC6C,aAAsB,IAAVtD,EAAc,WAAuB,IAAXA,EAAe,UAAY,gB,gDCrGnEvC,EAAYC,aAAW,iBAAO,CAClCC,KAAM,CACJ4F,OAAQ,GAEVC,QAAS,CACPC,YAAa,GAEfC,QAAS,CACPzC,QAAS,EACT0C,cAAe,aAEf,CAAErF,KAAM,qBAENsF,EAAoBpE,aAAW,iBAAO,CAC1C7B,KAAM,CACJ,aAAc,CACZ4F,OAAQ,EACR,WAAY,CACVlB,QAAS,KAIfwB,SAAU,MACR,CAAEvF,KAAM,qBAVckB,CAUSsE,KAE7BC,GAA2BvE,aAAW,iBAAO,CACjD7B,KAAM,CACJ,aAAc,CACZqG,UAAW,SAGfrC,QAAS,CACP4B,OAAQ,SACRzC,SAAU,oBACV,aAAc,CACZyC,OAAQ,WAGZM,SAAU,MACR,CAAEvF,KAAM,4BAdqBkB,CAcSyE,KAE3B,SAASC,GAAc1F,GACpC,IAAMC,EAAUhB,IAEhB,OACE,eAACmG,EAAD,yBAAmBO,UAAW,EAAGrF,UAAWL,EAAQd,MAAUa,GAA9D,cACE,cAACuF,GAAD,CAA0BK,WAAY,cAAC,IAAD,IAAoBtF,UAAWL,EAAQ+E,QAA7E,SACGhF,EAAMgF,UAET,cAACa,EAAA,EAAD,CAAkBvF,UAAWL,EAAQiF,QAArC,SACGlF,EAAM8F,e,qGCnDTC,GAA4B,IAAIC,KAAK,6BAErCC,GAAS,CACb,CACEzE,MAAO,EAAG0E,KAAM,gCAChBC,SAAU,eAAMC,KAAM,2BAAQC,MAAO,gBAEvC,CACE7E,MAAO,EAAG0E,KAAM,gDAChBC,SAAU,eAAMC,KAAM,2BAAQC,MAAO,aAEvC,CACE7E,MAAO,EAAG0E,KAAM,4CAChBC,SAAU,eAAMC,KAAM,2BAAQC,MAAO,cAAexF,UAAU,GAEhE,CACEW,MAAO,EAAG0E,KAAM,0EAChBC,SAAU,eAAMC,KAAM,yDAAaC,MAAO,eAAgBC,aAAcP,GAA2BlF,UAAU,GAE/G,CACEW,MAAO,GAAI0E,KAAM,kFACjBC,SAAU,eAAMC,KAAM,yDAAaC,MAAO,eAAgBE,YAAaR,GAA2BlF,UAAU,GAE9G,CACEW,MAAO,EAAG0E,KAAM,0FAChBC,SAAU,eAAMC,KAAM,yDAAaC,MAAO,YAAaC,aAAcP,GAA2BlF,UAAU,GAE5G,CACEW,MAAO,GAAI0E,KAAM,kGACjBC,SAAU,eAAMC,KAAM,yDAAaC,MAAO,YAAaE,YAAaR,GAA2BlF,UAAU,GAE3G,CACEW,MAAO,EAAG0E,KAAM,sFAChBC,SAAU,eAAMC,KAAM,yDAAaC,MAAO,cAAeC,aAAcP,GAA2BlF,UAAU,GAE9G,CACEW,MAAO,GAAI0E,KAAM,8FACjBC,SAAU,eAAMC,KAAM,yDAAaC,MAAO,cAAeE,YAAaR,GAA2BlF,UAAU,GAE7G,CACEW,MAAO,EAAG0E,KAAM,4CAChBC,SAAU,eAAMC,KAAM,2BAAQC,MAAO,eAAgBxF,UAAU,GAEjE,CACEW,MAAO,EAAG0E,KAAM,4DAChBC,SAAU,eAAMC,KAAM,2BAAQC,MAAO,YAAaxF,UAAU,GAE9D,CACEW,MAAO,EAAG0E,KAAM,4CAChBC,SAAU,eAAMC,KAAM,2BAAQC,MAAO,eAAgBxF,UAAU,GAEjE,CACEW,MAAO,GAAI0E,KAAM,4DACjBC,SAAU,eAAMC,KAAM,2BAAQC,MAAO,YAAaxF,UAAU,GAE9D,CACEW,MAAO,GAAI0E,KAAM,4CACjBC,SAAU,eAAMC,KAAM,2BAAQC,MAAO,eAAgBxF,UAAU,GAEjE,CACEW,MAAO,GAAI0E,KAAM,wDACjBC,SAAU,eAAMC,KAAM,2BAAQC,MAAO,YAAaC,aAAcP,GAA2BlF,UAAU,GAEvG,CACEW,MAAO,GAAI0E,KAAM,4DACjBC,SAAU,eAAMC,KAAM,2BAAQC,MAAO,YAAaE,YAAaR,GAA2BlF,UAAU,GAEtG,CACEW,MAAO,GAAI0E,KAAM,qFACjBC,SAAU,eAAMC,KAAM,2BAAQC,MAAO,eAAgB3F,QAAS,2BAAQ6F,YAAaR,GAA2BlF,UAAU,GAE1H,CACEW,MAAO,GAAI0E,KAAM,0EACjBC,SAAU,eAAMC,KAAM,2BAAQC,MAAO,eAAgB3F,QAAS,2BAAQ4F,aAAcP,GAA2BlF,UAAU,GAE3H,CACEW,MAAO,GAAI0E,KAAM,8DACjBC,SAAU,eAAMC,KAAM,uCAAUC,MAAO,eAAgBC,aAAcP,GAA2BlF,UAAU,GAE5G,CACEW,MAAO,GAAI0E,KAAM,8DACjBC,SAAU,eAAMC,KAAM,uCAAUC,MAAO,eAAgBE,YAAaR,GAA2BlF,UAAU,GAE3G,CACEW,MAAO,GAAI0E,KAAM,8EACjBC,SAAU,eAAMC,KAAM,uCAAUC,MAAO,YAAaC,aAAcP,GAA2BlF,UAAU,GAEzG,CACEW,MAAO,GAAI0E,KAAM,uGACjBC,SAAU,eAAMC,KAAM,uCAAUC,MAAO,eAAgB3F,QAAS,2BAAQ4F,aAAcP,GAA2BlF,UAAU,GAE7H,CACEW,MAAO,GAAI0E,KAAM,uGACjBC,SAAU,eAAMC,KAAM,uCAAUC,MAAO,eAAgB3F,QAAS,2BAAQ6F,YAAaR,GAA2BlF,UAAU,GAE5H,CACEW,MAAO,GAAI0E,KAAM,oEACjBC,SAAU,2BAAQC,KAAM,4BAE1B,CACE5E,MAAO,GAAI0E,KAAM,sFACjBC,SAAU,2BAAQC,KAAM,2BAAQvF,UAAU,GAE5C,CACEW,MAAO,GAAI0E,KAAM,yFACjBC,SAAU,2BAAQC,KAAM,uCAAUvF,UAAU,GAE9C,CACEW,MAAO,GAAI0E,KAAM,8FACjBC,SAAU,2BAAQC,KAAM,qEAAevF,UAAU,GAEnD,CACEW,MAAO,GAAI0E,KAAM,oGACjBC,SAAU,2BAAQC,KAAM,qEAAevF,UAAU,GAEnD,CACEW,MAAO,GAAI0E,KAAM,6EACjBC,SAAU,2BAAQC,KAAM,uCAAUE,aAAcP,GAA2BlF,UAAU,GAEvF,CACEW,MAAO,GAAI0E,KAAM,gFACjBC,SAAU,2BAAQC,KAAM,uCAAUG,YAAaR,GAA2BlF,UAAU,GAEtF,CACEW,MAAO,GAAI0E,KAAM,+FACjBC,SAAU,2BAAQC,KAAM,mDAAYE,aAAcP,GAA2BlF,UAAU,GAEzF,CACEW,MAAO,GAAI0E,KAAM,kGACjBC,SAAU,2BAAQC,KAAM,mDAAYG,YAAaR,GAA2BlF,UAAU,GAExF,CACEW,MAAO,GAAI0E,KAAM,wFACjBC,SAAU,2BAAQC,KAAM,uCAAUE,aAAcP,GAA2BlF,UAAU,IAOnF2F,GAAU,CACd,CAAE1G,KAAM,QAASoG,KAAM,wDACvB,CAAEpG,KAAM,QAASoG,KAAM,wDACvB,CAAEpG,KAAM,QAASoG,KAAM,sCACvB,CAAEpG,KAAM,QAASoG,KAAM,wDACvB,CAAEpG,KAAM,QAASoG,KAAM,4CACvB,CAAEpG,KAAM,QAASoG,KAAM,wDACvB,CAAEpG,KAAM,QAASoG,KAAM,oEACvB,CAAEpG,KAAM,QAASoG,KAAM,oEACvB,CAAEpG,KAAM,QAASoG,KAAM,0EACvB,CAAEpG,KAAM,SAAUoG,KAAM,mDACxB,CAAEpG,KAAM,UAAWoG,KAAM,uBACzB,CAAEpG,KAAM,WAAYoG,KAAM,kIAA4BI,aAAc,IAAIN,KAAK,8BAC7E,CAAElG,KAAM,WAAYoG,KAAM,mIAA6BK,YAAa,IAAIP,KAAK,8BAC7E,CAAElG,KAAM,WAAYoG,KAAM,kEAC1B,CAAEpG,KAAM,YAAaoG,KAAM,6EAC3B,CAAEpG,KAAM,YAAaoG,KAAM,yCAC3B,CAAEpG,KAAM,YAAaoG,KAAM,mFAC3B,CAAEpG,KAAM,UAAWoG,KAAM,sBAAUrF,UAAU,GAC7C,CAAEf,KAAM,UAAWoG,KAAM,mCACzB,CAAEpG,KAAM,YAAaoG,KAAM,wCAAarF,UAAU,GAClD,CAAEf,KAAM,YAAaoG,KAAM,yCAC3B,CAAEpG,KAAM,YAAaoG,KAAM,mCAC3B,CAAEpG,KAAM,UAAWoG,KAAM,6BACzB,CAAEpG,KAAM,YAAaoG,KAAM,kFAAoBrF,UAAU,GACzD,CAAEf,KAAM,UAAWoG,KAAM,+CACzB,CAAEpG,KAAM,UAAWoG,KAAM,uBACzB,CAAEpG,KAAM,UAAWoG,KAAM,kCAAYO,YAAY,GACjD,CAAE3G,KAAM,aAAcoG,KAAM,oDAAerF,UAAU,GACrD,CAAEf,KAAM,UAAWoG,KAAM,6CAAaK,YAAa,IAAIP,KAAK,6BAA8BnF,UAAU,IAGhG6F,GAAe,CACnB,CACEC,MAAO,mDACPC,KAAM,WACNJ,QAAS,CAAC,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,WAE7F,CACEG,MAAO,uCACPC,KAAM,SACNnF,KAAM,WACN+E,QAAS,CAAC,UAAW,WAAY,aAEnC,CACEG,MAAO,uCACPC,KAAM,SACNnF,KAAM,WACN+E,QAAS,CAAC,YAAa,YAAa,YAAa,UAAW,UAAW,YAAa,YAAa,YAAa,UAAW,YAAa,UAAW,UAAW,UAAW,aAAc,aAInLK,GAAS,CACb,CAAE,GAAO,EAAG,MAAS,MAAO,KAAQ,6CAAW,YAAe,8CAC9D,CAAE,GAAO,EAAG,MAAS,MAAO,KAAQ,6CAAW,YAAe,8CAC9D,CAAE,GAAO,EAAG,MAAS,MAAO,KAAQ,2BAAQ,YAAe,4BAC3D,CAAE,GAAO,EAAG,MAAS,MAAO,KAAQ,qBAAO,YAAe,wCAC1D,CAAE,GAAO,EAAG,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAO,EAAG,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAO,EAAG,MAAS,MAAO,KAAQ,eAAM,YAAe,wCACzD,CAAE,GAAO,EAAG,MAAS,MAAO,KAAQ,uCAAU,YAAe,gEAC7D,CAAE,GAAO,EAAG,MAAS,MAAO,KAAQ,qBAAO,YAAe,oDAC1D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,qBAAO,YAAe,oDAC1D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,qBAAO,YAAe,oDAC1D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,2BAAQ,YAAe,wCAC3D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,iCAAS,YAAe,gEAC5D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,iCAAS,YAAe,gEAC5D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,iCAAS,YAAe,gEAC5D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,iCAAS,YAAe,gEAC5D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,iCAAS,YAAe,gEAC5D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,2BAAQ,YAAe,oDAC3D,CAAE,GAAM,GAAI,MAAS,MAAO,KAAQ,uCAAU,YAAe,uE,SC1NxD,SAASC,GAAeC,GAC7B,GAAIA,EAAW,EAAG,CAChB,IAAIC,EAAOC,KAAKC,MAAMH,EAAW,IACjC,GAAIC,EAAO,EAAG,CACZ,IAAIG,EAAQJ,EAAW,GACvB,OAAOI,EAAQ,EAAR,UAAeH,EAAf,mBAAyBG,EAAzB,2BAAyCH,EAAzC,WAEP,gBAAUD,EAAV,iBAEF,OAAqB,IAAdA,EAAkB,4BACJ,IAAdA,EAAkB,eAClB,eAOX,SAASK,GAAWC,GAClB,IAAMC,EAAO,IAAItB,KACjB,OAAOqB,EAAKE,QAAO,SAACC,GAAD,YACMC,IAAtBD,EAAKlB,cAA8BgB,EAAOE,EAAKlB,qBAC1BmB,IAArBD,EAAKjB,aAA6Be,GAAQE,EAAKjB,gBAI7C,SAASmB,KACd,OAAON,GAAWnB,IAGb,SAAS0B,KACd,OAAOP,GAAWZ,IC1CpB,IAAMoB,GAAe,IAAIC,IAAI,CAC3B,CAAC,cAAe,gBAChB,CAAC,YAAa,gBACd,CAAC,eAAgB,kBAGb5I,GAAYC,aAAW,SAACX,GAAD,MAAY,CACvCY,KAAM,CACJ4E,gBAAiBxF,EAAME,QAAQ0F,WAAWC,OAE5C0D,IAAK,CACH1F,SAAU,GACV7C,SAAU,GAEZwI,MAAO,CACLhD,OAAQxG,EAAMmB,QAAQ,IAExBsI,SAAU,CACR5I,QAAS,OACTsD,aAAcnE,EAAMmB,QAAQ,GAC5B,eAAgB,CACdgD,aAAc,IAGlB5B,MAAM,aACJF,MAAOrC,EAAME,QAAQyH,KAAKtH,WACvBL,EAAMO,WAAWmJ,WAEtB5B,MAAO,CACL9G,SAAU,MAEV,CAAEO,KAAM,kBAENoI,GAAW,SAAClI,GAAW,IACnB8F,EAA6C9F,EAA7C8F,SAAUqC,EAAmCnI,EAAnCmI,aAAcC,EAAqBpI,EAArBoI,MAAUzG,EADhB,YAC2B3B,EAD3B,qCAE1B,OACE,6CAAKqI,KAAK,WAAWC,OAAQH,IAAiBC,EAAO7D,GAAE,sBAAiB6D,GAAS3D,kBAAA,oBAA8B2D,IAAazG,GAA5H,aACIwG,IAAiBC,GAAStC,MAK5ByC,GAAe,SAACvI,GACpB,IAAMC,EAAUf,aAAW,SAACX,GAAD,MAAY,CACrCY,KAAM,GAENkC,QAAS,CACP0C,gBAAiBxF,EAAME,QAAQG,UAAUqC,KACzCL,MAAOrC,EAAME,QAAQG,UAAU4J,aAC/B,UAAW,CACTzE,iBD2CcnD,EC3CSrC,EAAME,QAAQG,UAAUqC,KD2C1BO,EC3CgCjD,EAAME,QAAQgK,OAAOC,aD4CzEC,gBAAK/H,EAAO,EAAIY,IC3CjB,uBAAwB,CACtBuC,gBAAiB,kBDyCpB,IAAenD,EAAOY,ICrCvB,CAAE1B,KAAM,gBAbIZ,GAcRmC,EAAkCrB,EAAlCqB,QAASf,EAAyBN,EAAzBM,UAAcqB,EAfD,YAeY3B,EAfZ,yBAgB9B,OAAO,cAAC4I,GAAA,EAAD,aAAQC,eAAcxH,EAASf,UAAWC,YAAKN,EAAQd,KAAMkC,EAAUpB,EAAQoB,QAAU,KAAMf,IAAgBqB,KAGzG,SAASmH,GAAc9I,GACpC,IAAMC,EAAUhB,KACVgH,EAASyB,KACTqB,EDXD,WACL,IAAM9C,EAASyB,KACTqB,EAAa,IAAIlB,IAEvB5B,EAAO+C,SAAQ,SAACC,GACTF,EAAWG,IAAID,EAAM9C,WACxB4C,EAAWI,IAAIF,EAAM9C,SAAU,CAC7BQ,MAAOsC,EAAM9C,SACbiD,MAAO,IAAIvB,MAGf,IAAIuB,EAAQL,EAAWM,IAAIJ,EAAM9C,UAAUiD,MACtCA,EAAMF,IAAID,EAAM7C,OACnBgD,EAAMD,IAAIF,EAAM7C,KAAM,CACpBF,KAAM+C,EAAM7C,KACZkD,OAAQ,IAAIC,IACZC,SAAU,IAAID,IACd1I,UAAU,EACV4I,eAAgB,IAAIF,MAGxB,IAAInD,EAAOgD,EAAMC,IAAIJ,EAAM7C,MACvB6C,EAAM5C,OAAOD,EAAKkD,OAAOI,IAAIT,EAAM5C,OACnC4C,EAAMvI,SAAS0F,EAAKoD,SAASE,IAAIT,EAAMvI,SAC3C0F,EAAKvF,SAAWuF,EAAKvF,UAAYoI,EAAMpI,SACnCoI,EAAMpI,UAAUuF,EAAKqD,eAAeC,IAAIT,EAAM5C,UAzBjB,qBA4Bd0C,EAAWY,UA5BG,IA4BnC,kCAASxD,EAAT,uBACmBA,EAASiD,MAAMO,UADlC,IACE,2BAA0C,CAAC,IAAlCvD,EAAiC,QAExCA,EAAKkD,OAASlD,EAAKkD,OAAO7I,KAAO,EAAnB,aAA2B2F,EAAKkD,QAAU,KACxDlD,EAAKoD,SAAWpD,EAAKoD,SAAS/I,KAAO,EAArB,aAA6B2F,EAAKoD,UAAY,MAJlE,0BAAAI,MA5BmC,8BAmCnC,OAAOb,ECxBYc,GACbC,EAAgB,aAAOf,EAAWY,UAGhCnI,EAAoBxB,EAApBwB,MAAOE,EAAa1B,EAAb0B,SAGTuH,EAAQhD,EAAO8D,MAAK,SAACC,GAAD,OAAOA,EAAExI,QAAUA,KACvC2E,EAAW8C,EAAQF,EAAWM,IAAIJ,EAAM9C,UAAY2D,EAAiB,GACrE1D,EAAO6C,EAAQ9C,EAASiD,MAAMC,IAAIJ,EAAM7C,MAAQ,KAZX,EAeH6D,mBAAS,GAfN,mBAepC9B,EAfoC,KAetB+B,EAfsB,KAoBrCC,EAAkB,SAACpI,EAAGqE,EAAMC,EAAO3F,GACvC,IAAI0J,EAAYnE,EAAO8D,MAAK,SAACC,GAAD,OAAQ5D,IAAS4D,EAAE5D,QAAUC,GAASA,IAAU2D,EAAE3D,UAAY3F,GAAWA,IAAYsJ,EAAEtJ,YAC/G0J,GAAW1I,EAASK,EAAGqI,EAAU5I,QAGvC,OACE,sBAAKlB,UAAWL,EAAQd,KAAxB,UACE,cAACkL,GAAA,EAAD,CAAM7I,MAAO2G,EAAczG,SATP,SAAC4I,EAAG9F,GAAJ,OAAiB0F,EAAgB1F,IAUnD+F,eAAe,UAAUC,UAAU,UAAU9J,QAAQ,YAAY+J,aAAW,2BAD9E,SAEIX,EAAiBY,KAAI,SAACV,EAAG5B,GAAJ,OACrB,cAACuC,GAAA,EAAD,CAAmBnJ,MAAO4G,EAAOtH,MAAOkJ,EAAErD,MACxCpC,GAAE,oBAAe6D,GAASwC,gBAAA,sBAA8BxC,GAAS9H,UAAWL,EAAQ6H,KAD5EkC,EAAErD,YAIdmD,EAAiBY,KAAI,SAACV,EAAG5B,GAAJ,OACrB,cAAC,GAAD,CAAwBD,aAAcA,EAAcC,MAAOA,EAAO9H,UAAWL,EAAQ8H,MAArF,SACE,cAAC8C,EAAA,EAAD,CAAahJ,UAAU,WAAvB,SACIiJ,MAAMC,KAAKf,EAAEZ,MAAMO,UAAU,SAACqB,GAAD,OAC7B,cAACC,GAAA,EAAD,CAA+BzJ,MAAOwJ,EAAE9E,KAAM7E,QAAS2J,EAAE9E,QAAF,OAAWE,QAAX,IAAWA,OAAX,EAAWA,EAAMF,MAAMrF,SAAUmK,EAAEnK,SAAUqK,QAAS,cAACC,GAAA,EAAD,IAAWrK,MAAOkK,EAAE9E,KAAMvF,QAAS,SAACoB,GAAD,OAAOoI,EAAgBpI,EAAGA,EAAEC,OAAOR,SAA5JwJ,EAAE9E,YAHhB8D,EAAErD,UAQnB,sBAAKrG,UAAWL,EAAQ8H,MAAxB,WACI,OAAC3B,QAAD,IAACA,OAAD,EAACA,EAAMkD,SACP,eAACuB,EAAA,EAAD,CAAahJ,UAAU,WAAWvB,UAAWL,EAAQ+H,SAArD,UACE,cAACpG,EAAA,EAAD,CAAYC,UAAU,QAAQ0C,GAAG,eAAejE,UAAWL,EAAQa,MAAOsK,cAAY,EAAtF,sCACA,cAACC,GAAA,EAAD,CAAazK,MAAM,UAAUF,QAAQ,WAAW2H,KAAK,aAAa5D,kBAAgB,eAAlF,SACIqG,MAAMC,KAAKnD,GAAa0D,QAAQ,SAACC,GAAD,OAAOnF,EAAKkD,OAAOkC,SAASD,IAC5D,cAAC,GAAD,CAAsBlD,KAAK,QAAQhH,QAAS4H,EAAM5C,QAAUkF,EAAG1K,SAAUuF,EAAKqD,eAAeP,IAAIqC,GAAI5K,QAAS,SAACoB,GAAD,OAAOoI,EAAgBpI,EAAGkH,EAAM7C,KAAMmF,IAAIjL,UAAWL,EAAQoG,MAA3K,SAAmLuB,GAAayB,IAAIkC,IAAjLA,YAKzB,OAACnF,QAAD,IAACA,OAAD,EAACA,EAAMoD,WACP,eAACqB,EAAA,EAAD,CAAahJ,UAAU,WAAWvB,UAAWL,EAAQ+H,SAArD,UACE,cAACpG,EAAA,EAAD,CAAYC,UAAU,SAASvB,UAAWL,EAAQa,MAAlD,sCACA,cAAC2K,GAAA,EAAD,UACIrF,EAAKoD,SAASkB,KAAI,SAACgB,GAAD,OAClB,cAACT,GAAA,EAAD,CAA0BnK,MAAO4K,EAAGR,QAClC,cAAC5J,EAAA,EAAD,CAAUD,QAAS4H,EAAMvI,UAAYgL,EAAGhK,SAAU,SAACK,GAAD,OAAOoI,EAAgBpI,EAAGkH,EAAM7C,KAAM6C,EAAM5C,MAAOtE,EAAEC,OAAOX,QAAUqK,EAAI,UADvGA,iBCtHvC,IAAMzM,GAAYC,aAAW,SAACX,GAAD,MAAY,CACvCY,KAAK,aAEH4F,OAAO,IAAD,OAAMxG,EAAMmB,QAAQ,GAApB,MACN2C,MAAM,eAAD,OAAiB9D,EAAMmB,QAAQ,GAA/B,OACL,UAAW,CAAE+C,QAASlE,EAAMmB,QAAQ,KACnCnB,EAAMoN,YAAYC,GAAG,MAAQ,CAC5B7G,OAAO,IAAD,OAAMxG,EAAMmB,QAAQ,GAApB,MACN2C,MAAM,eAAD,OAAiB9D,EAAMmB,QAAQ,GAA/B,OACL,UAAW,CAAE+C,QAASlE,EAAMmB,QAAQ,MAGxCmM,YAAa,CACXC,WAAY,GAEdC,cAAe,CACbtM,WAAYlB,EAAMmB,QAAQ,GAC1BH,SAAU,EACVuM,WAAY,MAEZ,CAAEhM,KAAM,YAENkM,GAAchL,aAAW,SAACzC,GAAD,MAAY,CACzC0N,OAAQ,CACNrL,MAAOrC,EAAME,QAAQyH,KAAKtH,UAC1B,UAAW,CACTgC,MAAOrC,EAAME,QAAQyH,KAAKxH,aAG5B,CAAEoB,KAAM,eAPQkB,EAOS,SAAChB,GAAW,IAChCwB,EAAoBxB,EAApBwB,MAAUG,EADqB,YACX3B,EADW,WAEhCiG,EAASyB,KAGf,OAFAzB,EAAOiG,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE3K,MAAQ4K,EAAE5K,SAGhC,eAAC6K,EAAA,EAAD,yBAAQC,cAAY,EAAC9K,MAAOA,GAAS,EAAIA,EAAQ,GAC/C+K,WAAY,CAAE,aAAc,gBAAQC,cAAc,OAAU7K,GAD9D,cAEE,cAAC8K,EAAA,EAAD,CAAUjL,MAAM,GAAGX,UAAQ,EAA3B,sCACEoF,EAAOyE,KAAI,SAACzB,GAAD,OACX,cAACwD,EAAA,EAAD,CAA4BjL,MAAOyH,EAAMzH,MAAOX,SAAUoI,EAAMpI,SAAhE,SAA2EoI,EAAM/C,MAAlE+C,EAAMzH,iBAMd,SAASkL,GAAQ1M,GAC9B,IAAMC,EAAUhB,KACVyH,EFJD,WACL,IAAMF,EAAUmB,KAChB,OAAOjB,GAAagE,KAAI,SAACiC,GAAD,mBAAC,eACpBA,GADmB,IAEtBnG,QAASmG,EAAMnG,QAAQkE,KAAI,SAAC5K,GAAD,OAAU0G,EAAQuD,MAAK,SAAC6C,GAAD,OAAYA,EAAO9M,OAASA,aEA3D+M,GACb5D,EAA2EjJ,EAA3EiJ,MAAOzC,EAAoExG,EAApEwG,QAAqBsG,GAA+C9M,EAA3D+M,WAA2D/M,EAA/C8M,gBAAgBE,EAA+BhN,EAA/BgN,gBAAoBrL,EAHnC,YAG8C3B,EAH9C,qEAKrC,OACE,eAACiN,EAAA,EAAD,yBAAMC,WAAS,EAACrL,UAAU,OAAOvB,UAAWL,EAAQd,MAAUwC,GAA9D,cACE,cAACsL,EAAA,EAAD,CAAMzF,MAAI,EAAC2F,GAAI,GAAIC,GAAI,EAAGC,GAAI,GAAIC,GAAI,EAAtC,SACE,cAAC5H,GAAD,CAAe6H,iBAAiB,EAC9BvI,QACE,qCACE,cAACpD,EAAA,EAAD,CAAYlB,QAAQ,KAAKJ,UAAWL,EAAQ4L,YAA5C,0BACA,cAAChB,EAAA,EAAD,CAAavK,UAAWL,EAAQ8L,cAAhC,SACE,cAACC,GAAD,CAAalM,KAAK,QAAQ0B,MAAOyH,EAC/BvH,SAAU,SAACK,GAAD,OAAO+K,EAAe/K,EAAEC,OAAOR,QACzCb,QAAS,SAACoB,GAAD,OAAOA,EAAEyL,0BAP5B,SAWE,cAAC1E,GAAD,CAAetH,MAAOyH,EAAOvH,SAAU,SAAC4I,EAAG9F,GAAJ,OAAiBsI,EAAetI,UAG3E,cAACyI,EAAA,EAAD,CAAMzF,MAAI,EAAC2F,GAAI,GAAIC,GAAI,EAAGC,GAAI,GAAIC,GAAI,EAAtC,SACI5G,EAAagE,KAAI,SAACiC,GAAD,OACjB,cAACjH,GAAD,CACE6H,gBAAgC,WAAfZ,EAAM/F,KACvB5B,QAAU,cAACpD,EAAA,EAAD,CAAYlB,QAAQ,KAApB,SAA0BiM,EAAMhG,QAF5C,SAGIgG,EAAMnG,QAAQkE,KAAI,SAACkC,GAAD,OAClB,8BACmB,WAAfD,EAAM/F,KACN,cAACrF,EAAD,CAAgBzB,KAAM8M,EAAO9M,KAAM0B,WAAgCiG,IAAzBjB,EAAQoG,EAAO9M,MAAsB0G,EAAQoG,EAAO9M,MAAQ,EAAGgB,MAAO8L,EAAO1G,KAAMzE,KAAMkL,EAAMlL,KAAMZ,SAAU+L,EAAO/L,SAAUa,SAAUsL,IACpL,cAAC1I,EAAD,CAAcxE,KAAM8M,EAAO9M,KAAM0B,WAAgCiG,IAAzBjB,EAAQoG,EAAO9M,MAAsB0G,EAAQoG,EAAO9M,MAAQ,EAAGgB,MAAO8L,EAAO1G,KAAMxE,SAAUsL,EAAiBnM,SAAU+L,EAAO/L,YAHjK+L,EAAO9M,UAJD6M,EAAMhG,gB,mJCIrB8G,G,oDAtEb,WAAYzN,GAAQ,IAAD,+BACjB,cAAMA,IACD0N,MAAQ,CAAEC,SAAU,MACzB,EAAKC,kBAAoB,EAAKA,kBAAkBC,KAAvB,iBACzB,EAAKC,sBAAwB,EAAKA,sBAAsBD,KAA3B,iBAC7B,EAAKE,oBAAsB,EAAKA,oBAAoBF,KAAzB,iBAC3B,EAAKG,wBAA0B,EAAKA,wBAAwBH,KAA7B,iBAC/B,EAAKI,gBAAkB,EAAKA,gBAAgBJ,KAArB,iBAPN,E,+DAUD9L,GAChBmM,KAAKC,SAAS,CAAER,SAAU5L,EAAEqM,kB,8CAK5BF,KAAKG,qBAAqBH,KAAKlO,MAAM+M,YACrCmB,KAAKD,oB,4CAILC,KAAKD,oB,gDAKLK,OAAOC,KAAK,mDAAoD,UAChEL,KAAKD,oB,wCAILC,KAAKC,SAAS,CAAER,SAAU,S,+BAO1B,OACE,qCACE,cAACa,GAAA,EAAD,CACE5D,gBAAc,OAAO6D,gBAAc,OACnChE,aAAW,iCAAQ7J,MAAM,UAAUD,QAASuN,KAAKN,kBAFnD,SAGE,cAAC,KAAD,MAEF,eAACc,GAAA,EAAD,CACEnK,GAAG,OAAOoK,aAAW,EAAChB,SAAUO,KAAKR,MAAMC,SAC3CiB,aAZe,CAAEC,SAAU,MAAOC,WAAY,SAYlBC,gBAXV,CAAEF,SAAU,MAAOC,WAAY,SAWaE,mBAAoB,KAClFT,KAAMU,QAAQf,KAAKR,MAAMC,UAAWuB,QAAShB,KAAKD,gBAHpD,UAIE,eAACxB,EAAA,EAAD,CAAU9L,QAASuN,KAAKJ,sBAAuBjN,UAAQ,EAAvD,UACE,cAACsO,GAAA,EAAD,UACIjB,KAAKlO,MAAM+M,WAAa,cAACqC,GAAA,EAAD,CAAcxO,MAAM,cAAiB,cAAC,KAAD,MAEjE,cAACyO,GAAA,EAAD,CAAc3Q,QAAQ,kDAExB,cAAC4Q,GAAA,EAAD,IACA,eAAC7C,EAAA,EAAD,CAAU9L,QAASuN,KAAKH,oBAAxB,UACE,cAACoB,GAAA,EAAD,UAAc,cAACI,GAAA,EAAD,MACd,cAACF,GAAA,EAAD,CAAc3Q,QAAQ,gCAExB,eAAC+N,EAAA,EAAD,CAAU9L,QAASuN,KAAKF,wBAAxB,UACE,cAACmB,GAAA,EAAD,UAAc,cAACK,GAAA,EAAD,MACd,cAACH,GAAA,EAAD,CAAc3Q,QAAQ,0C,GA/DZ+Q,a,sECJhBxQ,GAAYC,aAAW,SAACX,GAAD,MAAY,CACvCmR,QAAS,CACPnQ,SAAU,GAEZoQ,WAAY,CACV/O,MAAOrC,EAAME,QAAQyH,KAAKtH,WAE5BsG,QAAS,CACPC,cAAe,UAEjByK,aAAc,CACZ1M,UAAW3E,EAAMmB,QAAQ,GAAK,GAC9BgD,aAAc,GAAKnE,EAAMmB,QAAQ,IAEnCmQ,aAAc,CACZ5K,YAAa1G,EAAMmB,QAAQ,GAC3BoQ,aAAcvR,EAAMmB,QAAQ,GAC5BqQ,UAAW,aAIA,SAASC,GAAchQ,GACpC,IJG4BiQ,EIHtBhQ,EAAUhB,KACVuH,EAAUmB,KACVuI,EJ7BD,SAAqB3L,GAC1B,IAAI4L,EAAI5L,EAAG6L,MAAH,aAAU,kDAAV,+BACR,GAAS,MAALD,EAAW,CAEb,IAAIE,EAAgC,QAAnBF,EAAEG,OAAOC,MAAkB,GAAK1J,GAAOkD,MAAK,SAAChI,GAAD,OAAOA,EAAEP,OAAS2O,EAAEG,OAAOC,SAAOrK,KAC/F,MAAO,CACLsK,YAAajM,EACbgM,MAAOJ,EAAEG,OAAOC,MAChBvJ,KAAMmJ,EAAEG,OAAOtJ,KACfyJ,KAAMN,EAAEG,OAAOG,KACfC,GAAIP,EAAEG,OAAOI,GACbC,eAAe,GAAD,OAAKN,EAAL,YAAmBF,EAAEG,OAAOtJ,KAA5B,kBAAqCmJ,EAAEG,OAAOG,KAA9C,wBAAwDN,EAAEG,OAAOI,GAAjE,aIkBFE,CAAY5Q,EAAMuE,IAElC,OACE,eAACe,EAAA,EAAD,WACE,eAACG,EAAA,EAAD,CAAkBG,WAAY,cAAC,IAAD,IAA9B,UACE,cAAChE,EAAA,EAAD,CAAYlB,QAAQ,YAAYJ,UAAWL,EAAQyP,QAAnD,SAA8DQ,EAAQS,iBACtE,eAAC/O,EAAA,EAAD,CAAYlB,QAAQ,YAAYJ,UAAWL,EAAQ0P,WAAnD,oBAAoE1I,KAAK4J,MAAwB,IAAlB7Q,EAAM8Q,WAArF,cAA6GhK,GAAe9G,EAAM+G,gBAEpI,eAAClB,EAAA,EAAD,CAAkBvF,UAAWL,EAAQiF,QAArC,UACIlF,EAAM+Q,QACR,cAACC,GAAA,EAAD,CAAgB1Q,UAAWL,EAAQ2P,aAAnC,SACE,cAACqB,GAAA,EAAD,CAAOxG,aAAW,uCAAlB,SACE,cAACyG,GAAA,EAAD,UACIlR,EAAM+Q,OAAOrG,KAAI,SAAC5J,GAAD,aACjB,eAACqQ,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAWvP,UAAU,KAAKwP,MAAM,MAAhC,UAAwC,UAAA7K,EAAQuD,MAAK,SAAAuH,GAAC,OAAIA,EAAExR,MAAQgB,EAAM8L,iBAAlC,eAA2C1G,OAAQpF,EAAM8L,SACjG,cAACwE,GAAA,EAAD,UAA6B,IAAhBtQ,EAAMU,MAAc,KAAuB,IAAjBV,EAAMU,MAAe,IAAsB,IAAhBV,EAAMU,MAAc,KAAOV,EAAMU,QACnG,cAAC4P,GAAA,EAAD,UAAatQ,EAAMkE,sBAO7B,cAAC4D,GAAA,EAAD,CAAQtI,UAAWL,EAAQ4P,aAAc0B,QAAS,cAAC,KAAD,IAChDvP,OAAO,SAASwP,MJxBIvB,EIwBgBC,EJvBtC,6DAAN,OAAoED,EAAIM,MAAxE,+BAAoGN,EAAIjJ,KAAxG,qBAAyHiJ,EAAIQ,KAA7H,mBAA4IR,EAAIS,GAAhJ,qBIsBM,sF,iCC/CRe,QAAQC,KAAK,0GAA2G,mCAEjH,IAAMC,GAAe,yCAAG,WAAO1I,EAAOzC,GAAd,oBAAA2F,EAAA,6DAEvByF,EAAW,IAAIC,iBACZC,OAAO,SAAU7I,GAG1BtB,KAAaqB,SAAQ,SAAC4D,GACpB,IAAIpL,EAAQgF,EAAQoG,EAAO9M,MAC3B8R,EAASE,OAAOlF,EAAO9M,UAAgB2H,IAAVjG,EAAsBA,EAAQ,MARhC,SAWNuQ,MAhBT,uCAgBwB,CACpCC,OAAQ,OACRC,QAAS,CACP,mBAAoB,iBAEtBC,KAAMN,EACNO,KAAM,OACNC,YAAa,OACbC,MAAO,aAnBoB,WAWvBC,EAXuB,QA4BfC,GA5Be,sBA+BrB,IAAIC,MAAJ,gCAAmCF,EAASG,SA/BvB,wBAkCVH,EAASI,OAlCC,eAkCvBC,EAlCuB,yBAqCtB,CACLC,WAAYD,EAAKC,WACjBC,YA3CiB,GA4CjBC,cAAeH,EAAKG,cAAcpI,KAAI,SAACV,GAAD,MAAQ,CAC5C+I,IAAK/I,EAAEgJ,UACPzO,GAAIyF,EAAEiJ,SACNnC,UAAW9G,EAAEkJ,IACbjK,MAAOe,EAAEmJ,OACTpM,SAAUiD,EAAEoJ,SACZC,QAASrJ,EAAEqJ,QACXtC,OAAQ/G,EAAE+G,OAAOrG,KAAI,SAAC4I,GAAD,MAAQ,CAC3B1G,OAAQ0G,EAAEC,MACVvO,QAASsO,EAAEE,MACXhS,MAAO8R,EAAEG,iBAlDc,4CAAH,wDCCtBxU,GAAYC,aAAW,SAACX,GAAD,YAAY,CACvCY,KAAM,CACJqD,OAAQ,SAEVkR,KAAM,CACJ9T,YAAarB,EAAMmB,QAAQ,GAC3BqE,gBAAiBxF,EAAME,QAAQG,UAAU,MAE3C+H,MAAO,CACLpH,SAAU,GAEZ0B,MAAI,GACFoB,MAAO,QACPmD,UAAW,QACXmO,UAAW,SACX5P,gBAAiBxF,EAAME,QAAQ0F,WAAWyP,QAG1CC,WAAY,IAPV,wBAQEtV,EAAMoN,YAAYC,GAAG,MARvB,iCAQ8D,CAC9DiI,WAAY,KATZ,cAWDtV,EAAMoN,YAAYC,GAAG,MAAQ,CAC5BiI,WAAY,KAZZ,cAcDtV,EAAMoN,YAAYC,GAAG,MAAQ,CAC5BpJ,OAAQ,UAfR,GAkBJsR,KAAK,eACFvV,EAAMoN,YAAYC,GAAG,MAAQ,CAC5BpJ,OAAQ,OACRuR,UAAW,WAGf5Q,QAAS,CACP4B,OAAQxG,EAAMmB,QAAQ,GACtBN,QAAS,OACT+F,cAAe,UAEjB6C,SAAS,aACP9E,UAAW3E,EAAMmB,QAAQ,GACzBqQ,UAAW,OACVxR,EAAMoN,YAAYC,GAAG,MAAQ,CAC5BxI,SAAU,SACVO,OAAQpF,EAAMmB,QAAQ,KAG1BsU,SAAU,CACRjE,UAAW,UAEbkE,WAAY,CACVxR,QAASlE,EAAMmB,QAAQ,IAEzBwU,gBAAiB,CACftT,MAAOrC,EAAME,QAAQyH,KAAKtH,UAC1BuV,UAAW,aAEX,CAAErU,KAAM,QAEG,SAASsU,KACtB,IAAMnU,EAAUhB,KADY,EAIFgL,oBAAU,GAJR,mBAIrBhB,EAJqB,KAIdoL,EAJc,OAKEpK,mBAAS,IALX,mBAKrBzD,EALqB,KAKZ8N,EALY,OAMQrK,oBAAS,GANjB,mBAMrB8C,EANqB,KAMTwH,EANS,OASAtK,mBAAS,SATT,mBASrBwI,EATqB,KASb+B,EATa,OAUJvK,mBAAS,IAVL,mBAUrB0I,EAVqB,KAUf8B,EAVe,KAwC5B,OACE,sBAAKnU,UAAWL,EAAQd,KAAxB,UACE,cAACuV,EAAA,EAAD,CAAQtR,SAAS,QAAjB,SACE,eAACuR,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAQtU,UAAWL,EAAQyT,KAA3B,SACE,cAAC,IAAD,MAEF,cAAC9R,EAAA,EAAD,CAAYlB,QAAQ,KAAKmU,QAAM,EAACvU,UAAWL,EAAQ0G,MAAnD,oEAGA,cAAC,GAAD,CAASoG,WAAYA,EAAYsB,oBAAqBkG,SAG1D,eAACtH,EAAA,EAAD,CAAMC,WAAS,EAACrL,UAAU,OAAOvB,UAAWL,EAAQgB,KAApD,UACE,cAACgM,EAAA,EAAD,CAAMzF,MAAI,EAAC2F,GAAI,GAAIE,GAAI,EAAGC,GAAI,EAAGwH,GAAI,EAAGjT,UAAWkT,IAAOpP,UAAW,EAAGrF,UAAWL,EAAQ6T,KAA3F,SACE,sBAAKxT,UAAWL,EAAQkD,QAAxB,UACE,cAACuJ,GAAD,CAASzD,MAAOA,EAAOzC,QAASA,EAASuG,WAAYA,EAAYD,eAAgBuH,EAAUrH,gBA5CzE,SAAC1C,EAAGxK,EAAM0B,GACpC8S,GAAW,SAAC9N,GAAD,mBAAC,eAAiBA,GAAlB,kBAA4B1G,EAAO0B,UA4CtC,cAACzB,EAAD,CAAaO,UAAWL,EAAQ+H,SAAU9H,UAAW+I,GAAS,EAAG5I,SAzClD,WAEvBmU,EAAU,WACVC,EAAQ,IAGR9C,GAAgB1I,EAAOzC,GACtBwO,MAAK,SAACrC,GACLlB,QAAQwD,IAAItC,GACZ8B,EAAQ9B,GACR6B,EAAU,YAEXU,OAAM,SAACnT,GACN0P,QAAQwD,IAAIlT,GACZyS,EAAU,aA2ByFpU,QAvB/E,WACtBiU,GAAU,GACVC,EAAW,IACXE,EAAU,iBAuBN,cAACvH,EAAA,EAAD,CAAMzF,MAAI,EAAC2F,GAAI,GAAIE,GAAI,EAAGC,GAAI,EAAGwH,GAAI,EAAGxU,UAAWL,EAAQ6T,KAA3D,SACE,sBAAKxT,UAAWL,EAAQkD,QAAxB,UACe,YAAXsP,GACA,cAAC0C,EAAA,EAAD,CAAkB7U,UAAWL,EAAQ+T,WAE1B,UAAXvB,GACA,qCACE,eAACsC,EAAA,EAAD,CAAOpP,UAAW,EAAGrF,UAAWL,EAAQgU,WAAxC,UACE,cAACrS,EAAA,EAAD,CAAYlB,QAAQ,WAAW0K,cAAY,EAA3C,sCACA,cAACxJ,EAAA,EAAD,CAAYlB,QAAQ,KAAKmB,UAAU,MAAnC,SACE8Q,EAAKC,WAAaD,EAAKE,YAAvB,UACG/L,GAAe6L,EAAKC,WAAaD,EAAKE,aADzC,cAC2D/L,GAAe6L,EAAKC,WAAaD,EAAKE,cACjG/L,GAAe6L,EAAKC,iBAGtBD,EAAKG,cAAcpI,KAAI,SAAC4G,GAAD,OACvB,cAACtB,GAAD,eAA8BsB,GAAVA,EAAE/M,UAIf,UAAXkO,GACA,qBAAKnS,UAAWL,EAAQiU,gBAAxB,SACE,cAACtS,EAAA,EAAD,CAAYlB,QAAQ,QAApB,8IAGS,UAAX+R,GACA,qBAAKnS,UAAWL,EAAQiU,gBAAxB,SACE,cAACtS,EAAA,EAAD,CAAYlB,QAAQ,QAApB,qHCrJhB,IAAM0U,GAAcC,SAASC,eAAe,QACtClB,GACJ,eAACmB,EAAA,EAAD,CAAehX,MAAOA,EAAtB,UACE,cAAC,IAAD,IACA,cAAC,GAAD,OAIA6W,GAAYI,gBACdC,kBAAQrB,GAAKgB,IAEbM,iBAAOtB,GAAKgB,M","file":"static/js/main.4ba60254.chunk.js","sourcesContent":["import { createMuiTheme } from '@material-ui/core/styles';\nimport { indigo, blue } from '@material-ui/core/colors';\n\n// Declare the main visual theme of this app.\nconst theme = createMuiTheme({\n  palette: {\n    primary: indigo,\n    secondary: blue\n  },\n  typography: {\n    fontFamily: [\n      'Inter', 'system-ui', '\"Segoe UI\"', 'Roboto', 'Helvetica', 'Arial', 'sans-serif'\n    ].join(','),\n  },\n});\n\nexport default theme;\n","import React from 'react';\nimport clsx from 'clsx';\nimport Fab from '@material-ui/core/Fab';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ClearAllIcon from '@material-ui/icons/ClearAll';\nimport SpellcheckIcon from '@material-ui/icons/Spellcheck';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  space: {\n    flexGrow: 1,\n  },\n  button: {\n    marginLeft: theme.spacing(2),\n  },\n  iconSmall: {\n    marginRight: theme.spacing(1) / 2,\n  },\n  icon: {\n    marginRight: theme.spacing(1),\n  },\n}), { name: 'FormToolbar' });\n\nexport default function FormToolbar(props) {\n  const classes = useStyles();\n  let {canSubmit, onClear, onSubmit, ...otherProps} = props;\n\n  return (\n    <div {...otherProps} className={clsx([classes.root, props.className])}>\n      <div className={classes.space} />\n      <Fab className={classes.button} size=\"medium\" variant=\"extended\" onClick={props.onClear}>\n        <ClearAllIcon className={classes.iconSmall} />\n        清除\n      </Fab>\n      <Fab className={classes.button} color=\"secondary\" variant=\"extended\" disabled={!canSubmit} onClick={props.onSubmit}>\n        <SpellcheckIcon className={classes.icon} />\n        計算\n      </Fab>\n    </div>\n  );\n};\n","import { React } from 'react';\nimport { Checkbox, Typography } from '@material-ui/core';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  label: {\n    flexGrow: 1,\n  },\n}), { name: 'FactorCheckBox' });\n\nconst ColoredCheckbox = withStyles((theme) => ({\n  root: {\n    '&$checked': {\n      color: theme.palette.secondary.main,\n    },\n    '&[data-vibe=\"positive\"]$checked': {\n      color: theme.palette.success.dark,\n    },\n    '&[data-vibe=\"negative\"]$checked': {\n      color: theme.palette.error.dark,\n    },\n  },\n  checked: {},\n}), { name: 'ColoredCheckbox' })((props) => <Checkbox color=\"default\" {...props} />);\n\nexport default function FactorCheckBox(props) {\n  const classes = useStyles();\n  const { name, value, label, vibe, onChange, ...others } = props;\n\n  return (\n    <label className={classes.root}>\n      <Typography component=\"span\" className={classes.label}>{label}</Typography>\n      <ColoredCheckbox\n        name={name} data-vibe={vibe}\n        checked={value === 1}\n        onChange={(e) => onChange(e, name, e.target.checked ? 1 : 0)} {...others} />\n    </label>\n  );\n};\n","import { React, useState } from 'react';\nimport { Slider, Typography } from '@material-ui/core';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nconst scales = [\n  { value: -1, label: '−', description: '減輕' },\n  { value: 0, label: '', description: '不影響' },\n  { value: 1, label: '+', description: '加重' },\n];\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  label: {\n    flexGrow: 1,\n  },\n  switch: {\n    minWidth: 64,\n    width: 80,\n    maxWidth: 96,\n    marginLeft: theme.spacing(2),\n    marginRight: theme.spacing(2),\n  },\n}), { name: 'FactorSlider' });\n\nconst SwitchLikeSlider = withStyles((theme) => ({\n  root: {\n    height: 14,\n    padding: '14px 0',\n    marginBottom: 0,\n    color: theme.palette.grey[50],\n    transition: theme.transitions.create(['color'], {\n      duration: theme.transitions.duration.shortest,\n    }),\n    '&[data-state=\"lighter\"]': { color: theme.palette.success.main },\n    '&[data-state=\"heavier\"]': { color: theme.palette.error.main },\n  },\n  thumb: {\n    width: 20,\n    height: 20,\n    marginTop: (14 - 20) / 2,\n    marginLeft: -20 / 2,\n    transition: theme.transitions.create(['left', 'box-shadow'], {\n      duration: theme.transitions.duration.shortest,\n    }),\n    '&::before': {\n      content: '\"\"',\n      position: 'absolute',\n      borderRadius: '50%',\n      boxShadow: theme.shadows[1],\n      left: 0, top: 0, right: 0, bottom: 0,\n    },\n    '&::after': {\n      left: -11, top: -11, right: -11, bottom: -11,\n    },\n    '&:hover': {\n      boxShadow: '0px 0px 0px 8px rgba(0, 0, 0, 0.16)',\n    },\n  },\n  track: {\n    height: 14,\n    opacity: 0.5,\n    width: '50% !important',\n    transition: theme.transitions.create(['opacity'], {\n      duration: theme.transitions.duration.shortest,\n    }),\n    '[data-state=\"lighter\"] &': {\n      left: '0 !important',\n    },\n    '[data-state=\"neutral\"] &': {\n      opacity: 0,\n      width: '0% !important',\n    },\n    '[data-state=\"heavier\"] &': {\n      left: '50% !important',\n    },\n  },\n  rail: {\n    height: 14,\n    borderRadius: 14 / 2,\n    backgroundColor: theme.palette.common.black,\n    opacity: 0.3,\n  },\n  mark: {\n    height: 14,\n    backgroundColor: theme.palette.background.paper,\n    opacity: 0,\n    '&[data-index=\"1\"]': { opacity: 0.8 },\n  },\n}), { name: 'SwitchLikeSlider' })(Slider);\n\nexport default function FactorSlider(props) {\n  const classes = useStyles();\n  const { name, value, label, onChange, ...others } = props;\n\n  return (\n    <div className={classes.root} {...others}>\n      <Typography id={`${name}-label`} component=\"label\" className={classes.label}>\n        {label}\n      </Typography>\n      <SwitchLikeSlider className={classes.switch}\n        name={name} value={value} onChange={(e, newValue) => onChange(e, name, newValue)}\n        aria-labelledby={`${name}-label`}\n        min={-1} max={1} steps={null} marks={scales}\n        data-state={value === 0 ? 'neutral' : value === -1 ? 'lighter' : 'heavier'}\n      />\n    </div>\n  );\n};\n","import { React } from 'react';\nimport { Accordion, AccordionSummary, AccordionDetails } from '@material-ui/core';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    margin: 0,\n  },\n  summary: {\n    paddingLeft: 0,\n  },\n  details: {\n    padding: 0,\n    flexDirection: 'column',\n  }\n}), { name: 'FactorsAccordion' });\n\nconst CondenseAccordion = withStyles(() => ({\n  root: {\n    '&$expanded': {\n      margin: 0,\n      '&:before': {\n        opacity: 1,\n      },\n    },\n  },\n  expanded: {},\n}), { name: 'CondenseAccordion' })(Accordion);\n\nconst CondenseAccordionSummary = withStyles(() => ({\n  root: {\n    '&$expanded': {\n      minHeight: 'auto',\n    }\n  },\n  content: {\n    margin: '12px 0',\n    maxWidth: 'calc(100% - 32px)',\n    '&$expanded': {\n      margin: '12px 0',\n    }\n  },\n  expanded: {},\n}), { name: 'CondenseAccordionSummary' })(AccordionSummary);\n\nexport default function FormAccordion(props) {\n  const classes = useStyles();\n\n  return (\n    <CondenseAccordion elevation={0} className={classes.root} {...props}>\n      <CondenseAccordionSummary expandIcon={<ExpandMoreIcon />} className={classes.summary}>\n        {props.summary}\n      </CondenseAccordionSummary>\n      <AccordionDetails className={classes.details}>\n        {props.children}\n      </AccordionDetails>\n    </CondenseAccordion>\n  );\n};\n","// scope.js – 專案涉及條文邏輯通通在這裡。\n// 日期皆為新條文公布日。\n// 早於民國 94 年刑法修正的日期不列入條件。\n\nconst PENAL_CODE_AMENDMENT_DATE = new Date(\"2019-05-29T00:00:00+08:00\");\n\nconst crimes = [\n  {\n    value: 1, text: \"§271(1) 殺人罪\",\n    category: \"殺人\", kind: \"普通殺人\", stage: \"accomplished\"\n  },\n  {\n    value: 2, text: \"§271(2),(1) 殺人未遂罪\",\n    category: \"殺人\", kind: \"普通殺人\", stage: \"attempted\"\n  },\n  {\n    value: 3, text: \"§271(3) 預備殺人罪\",\n    category: \"殺人\", kind: \"普通殺人\", stage: \"preparatory\", disabled: true\n  },\n  {\n    value: 4, text: \"§272(1) 殺害直系血親尊親屬罪\",\n    category: \"殺人\", kind: \"殺害直系血親尊親屬\", stage: \"accomplished\", valid_before: PENAL_CODE_AMENDMENT_DATE, disabled: true\n  },\n  {\n    value: 27, text: \"§272,§271(1) 殺害直系血親尊親屬罪\",\n    category: \"殺人\", kind: \"殺害直系血親尊親屬\", stage: \"accomplished\", valid_after: PENAL_CODE_AMENDMENT_DATE, disabled: true\n  },\n  {\n    value: 5, text: \"§272(2),(1) 殺害直系血親尊親屬未遂罪\",\n    category: \"殺人\", kind: \"殺害直系血親尊親屬\", stage: \"attempted\", valid_before: PENAL_CODE_AMENDMENT_DATE, disabled: true\n  },\n  {\n    value: 28, text: \"§272,§271(2),(1) 殺害直系血親尊親屬未遂罪\",\n    category: \"殺人\", kind: \"殺害直系血親尊親屬\", stage: \"attempted\", valid_after: PENAL_CODE_AMENDMENT_DATE, disabled: true\n  },\n  {\n    value: 6, text: \"§272(3) 預備殺害直系血親尊親屬罪\",\n    category: \"殺人\", kind: \"殺害直系血親尊親屬\", stage: \"preparatory\", valid_before: PENAL_CODE_AMENDMENT_DATE, disabled: true\n  },\n  {\n    value: 29, text: \"§272,§271(3) 預備殺害直系血親尊親屬罪\",\n    category: \"殺人\", kind: \"殺害直系血親尊親屬\", stage: \"preparatory\", valid_after: PENAL_CODE_AMENDMENT_DATE, disabled: true\n  },\n  {\n    value: 7, text: \"§273(1) 義憤殺人罪\",\n    category: \"殺人\", kind: \"義憤殺人\", stage: \"accomplished\", disabled: true\n  },\n  {\n    value: 8, text: \"§273(2),(1) 義憤殺人未遂罪\",\n    category: \"殺人\", kind: \"義憤殺人\", stage: \"attempted\", disabled: true\n  },\n  {\n    value: 9, text: \"§274(1) 母殺嬰兒罪\",\n    category: \"殺人\", kind: \"母殺嬰兒\", stage: \"accomplished\", disabled: true\n  },\n  {\n    value: 10, text: \"§274(2),(1) 母殺嬰兒未遂罪\",\n    category: \"殺人\", kind: \"母殺嬰兒\", stage: \"attempted\", disabled: true\n  },\n  {\n    value: 11, text: \"§275(1) 加工自殺罪\",\n    category: \"殺人\", kind: \"加工自殺\", stage: \"accomplished\", disabled: true\n  },\n  {\n    value: 12, text: \"§275(2) 加工自殺未遂罪\",\n    category: \"殺人\", kind: \"加工自殺\", stage: \"attempted\", valid_before: PENAL_CODE_AMENDMENT_DATE, disabled: true\n  },\n  {\n    value: 12, text: \"§275(3),(1) 加工自殺未遂罪\",\n    category: \"殺人\", kind: \"加工自殺\", stage: \"attempted\", valid_after: PENAL_CODE_AMENDMENT_DATE, disabled: true\n  },\n  {\n    value: 21, text: \"§275(4),§275(1) 謀為同死，加工自殺罪\",\n    category: \"殺人\", kind: \"加工自殺\", stage: \"accomplished\", variant: \"謀為同死\", valid_after: PENAL_CODE_AMENDMENT_DATE, disabled: true\n  },\n  {\n    value: 21, text: \"§275(3) 謀為同死，加工自殺罪\",\n    category: \"殺人\", kind: \"加工自殺\", stage: \"accomplished\", variant: \"謀為同死\", valid_before: PENAL_CODE_AMENDMENT_DATE, disabled: true\n  },\n  {\n    value: 22, text: \"§275(1) 教唆或幫助自殺罪\",\n    category: \"殺人\", kind: \"教唆幫助自殺\", stage: \"accomplished\", valid_before: PENAL_CODE_AMENDMENT_DATE, disabled: true\n  },\n  {\n    value: 25, text: \"§275(2) 教唆或幫助自殺罪\",\n    category: \"殺人\", kind: \"教唆幫助自殺\", stage: \"accomplished\", valid_after: PENAL_CODE_AMENDMENT_DATE, disabled: true\n  },\n  {\n    value: 24, text: \"§275(2),(1) 教唆或幫助自殺未遂罪\",\n    category: \"殺人\", kind: \"教唆幫助自殺\", stage: \"attempted\", valid_before: PENAL_CODE_AMENDMENT_DATE, disabled: true\n  },\n  {\n    value: 23, text: \"§275(3),§275(1) 謀為同死，教唆或幫助自殺罪\",\n    category: \"殺人\", kind: \"教唆幫助自殺\", stage: \"accomplished\", variant: \"謀為同死\", valid_before: PENAL_CODE_AMENDMENT_DATE, disabled: true\n  },\n  {\n    value: 26, text: \"§275(4),§275(2) 謀為同死，教唆或幫助自殺罪\",\n    category: \"殺人\", kind: \"教唆幫助自殺\", stage: \"accomplished\", variant: \"謀為同死\", valid_after: PENAL_CODE_AMENDMENT_DATE, disabled: true\n  },\n  {\n    value: 13, text: \"§277(2)前段 傷害致人於死罪\",\n    category: \"傷害致死\", kind: \"傷害致死\"\n  },\n  {\n    value: 14, text: \"§278(2) 使人受重傷因而致人於死罪\",\n    category: \"傷害致死\", kind: \"重傷致死\", disabled: true\n  },\n  {\n    value: 15, text: \"§279但書 義憤傷害因而致人於死罪\",\n    category: \"傷害致死\", kind: \"義憤傷害致死\", disabled: true\n  },\n  {\n    value: 16, text: \"§280,§277(2) 傷害直系血親尊親屬致死罪\",\n    category: \"傷害致死\", kind: \"傷害直系血親尊親屬致死\", disabled: true\n  },\n  {\n    value: 17, text: \"§280,§278(2) 重傷害直系血親尊親屬致死罪\",\n    category: \"傷害致死\", kind: \"重傷直系血親尊親屬致死\", disabled: true\n  },\n  {\n    value: 18, text: \"§282中段 加工自傷因而致死罪\",\n    category: \"傷害致死\", kind: \"加工自傷致死\", valid_before: PENAL_CODE_AMENDMENT_DATE, disabled: true\n  },\n  {\n    value: 18, text: \"§282(1)前段 加工自傷因而致死罪\",\n    category: \"傷害致死\", kind: \"加工自傷致死\", valid_after: PENAL_CODE_AMENDMENT_DATE, disabled: true\n  },\n  {\n    value: 19, text: \"§282前段 教唆或幫助自傷因而致死罪\",\n    category: \"傷害致死\", kind: \"教唆幫助自傷致死\", valid_before: PENAL_CODE_AMENDMENT_DATE, disabled: true\n  },\n  {\n    value: 20, text: \"§282(2)前段 教唆或幫助自傷因而致死罪\",\n    category: \"傷害致死\", kind: \"教唆幫助自傷致死\", valid_after: PENAL_CODE_AMENDMENT_DATE, disabled: true\n  },\n  {\n    value: 30, text: \"§283,§277(2)前段 聚眾鬥毆致人於死罪\",\n    category: \"傷害致死\", kind: \"聚眾鬥毆致死\", valid_before: PENAL_CODE_AMENDMENT_DATE, disabled: true\n  }\n];\n\n// The naming of the factors do not conform to the midterm report.\n// See API-actual.md for details.\n\nconst factors = [\n  { name: \"c57_1\", text: \"§57(1) 犯罪動機、目的\" },\n  { name: \"c57_2\", text: \"§57(2) 犯罪時所受刺激\" },\n  { name: \"c57_3\", text: \"§57(3) 犯罪手段\" },\n  { name: \"c57_4\", text: \"§57(4) 行為人生活狀況\" },\n  { name: \"c57_5\", text: \"§57(5) 行為人品行\" },\n  { name: \"c57_6\", text: \"§57(6) 行為人智識程度\" },\n  { name: \"c57_7\", text: \"§57(7) 行為人與被害人關係\" },\n  { name: \"c57_8\", text: \"§57(8) 行為人違反義務程度\" },\n  { name: \"c57_9\", text: \"§57(9) 犯罪所生之危險或損害\" },\n  { name: \"c57_10\", text: \"§57(10) 犯罪後之態度\" },\n  { name: \"agg_c47\", text: \"§47 累犯\" },\n  { name: \"agg_c112\", text: \"兒少§70 成年人教唆、幫助或利用兒童及少年犯罪\", valid_before: new Date(\"2011-11-30T00:00:00+08:00\") },\n  { name: \"agg_c112\", text: \"兒少§112 成年人教唆、幫助或利用兒童及少年犯罪\", valid_after: new Date(\"2011-11-30T00:00:00+08:00\") },\n  { name: \"agg_c134\", text: \"§134 公務員利用職權機會\" },\n  { name: \"mit_c18_2\", text: \"§18Ⅱ 十四歲以上未滿十八歲\" },\n  { name: \"mit_c18_3\", text: \"§18Ⅲ 滿八十歲\" },\n  { name: \"mit_c19_2\", text: \"§19Ⅱ 辨識、控制能力顯著減低\" },\n  { name: \"mit_c20\", text: \"§20 瘖啞\", disabled: true },\n  { name: \"mit_c23\", text: \"§23 防衛過當\" },\n  { name: \"mit_c24_1\", text: \"§24Ⅰ 避難過當\", disabled: true },\n  { name: \"mit_c25_2\", text: \"§25Ⅱ 普通未遂\" },\n  { name: \"mit_c27_1\", text: \"§27Ⅰ 中止犯\" },\n  { name: \"mit_c30\", text: \"§30 幫助犯\" },\n  { name: \"mit_c31_1\", text: \"§31Ⅰ 身分犯無特定關係之共犯\", disabled: true },\n  { name: \"mit_c59\", text: \"§59 情狀顯可憫恕\" },\n  { name: \"mit_c62\", text: \"§62 自首\" },\n  { name: \"mit_c63\", text: \"§63 老幼處刑\", calculated: true },\n  { name: \"mit_cp14_1\", text: \"證保§14Ⅰ 污點證人\", disabled: true },\n  { name: \"mit_cp7\", text: \"速審§7 訴訟延滯\", valid_after: new Date(\"2010-05-19T00:00:00+08:00\"), disabled: true },\n];\n\nconst factorGroups = [\n  {\n    title: \"法定科刑注意事項\",\n    type: \"tristate\",\n    factors: [\"c57_1\", \"c57_2\", \"c57_3\", \"c57_4\", \"c57_5\", \"c57_6\", \"c57_7\", \"c57_8\", \"c57_9\", \"c57_10\"]\n  },\n  {\n    title: \"法定加重事由\",\n    type: \"binary\",\n    vibe: \"negative\",\n    factors: [\"agg_c47\", \"agg_c112\", \"agg_c134\"]\n  },\n  {\n    title: \"法定減輕事由\",\n    type: \"binary\",\n    vibe: \"positive\",\n    factors: [\"mit_c18_2\", \"mit_c18_3\", \"mit_c19_2\", \"mit_c20\", \"mit_c23\", \"mit_c24_1\", \"mit_c25_2\", \"mit_c27_1\", \"mit_c30\", \"mit_c31_1\", \"mit_c59\", \"mit_c62\", \"mit_c63\", \"mit_cp14_1\", \"mit_cp7\"]\n  }\n];\n\nconst courts = [\n  { \"id\":  1, \"value\": \"TPC\", \"text\": \"司法院刑事補償\", \"description\": \"司法院刑事補償\" },\n  { \"id\":  2, \"value\": \"TPU\", \"text\": \"司法院訴願決定\", \"description\": \"司法院訴願決定\" },\n  { \"id\":  4, \"value\": \"TPS\", \"text\": \"最高法院\", \"description\": \"最高法院\" },\n  { \"id\":  5, \"value\": \"TPA\", \"text\": \"最高行\", \"description\": \"最高行政法院\" },\n  { \"id\":  6, \"value\": \"TPP\", \"text\": \"懲戒法庭\", \"description\": \"懲戒法院懲戒法庭\" },\n  { \"id\":  3, \"value\": \"TPJ\", \"text\": \"職務法庭\", \"description\": \"懲戒法院職務法庭\" },\n  { \"id\":  7, \"value\": \"TPH\", \"text\": \"高院\", \"description\": \"臺灣高等法院\" },\n  { \"id\":  8, \"value\": \"001\", \"text\": \"高院訴願決定\", \"description\": \"臺灣高等法院訴願決定\" },\n  { \"id\":  9, \"value\": \"TPB\", \"text\": \"北高行\", \"description\": \"臺北高等行政法院\" },\n  { \"id\": 10, \"value\": \"TCB\", \"text\": \"中高行\", \"description\": \"臺中高等行政法院\" },\n  { \"id\": 11, \"value\": \"KSB\", \"text\": \"高高行\", \"description\": \"高雄高等行政法院\" },\n  { \"id\": 12, \"value\": \"IPC\", \"text\": \"智財法院\", \"description\": \"智慧財產法院\" },\n  { \"id\": 13, \"value\": \"TCH\", \"text\": \"臺中高分院\", \"description\": \"臺灣高等法院臺中分院\" },\n  { \"id\": 14, \"value\": \"TNH\", \"text\": \"臺南高分院\", \"description\": \"臺灣高等法院臺南分院\" },\n  { \"id\": 15, \"value\": \"KSH\", \"text\": \"高雄高分院\", \"description\": \"臺灣高等法院高雄分院\" },\n  { \"id\": 16, \"value\": \"HLH\", \"text\": \"花蓮高分院\", \"description\": \"臺灣高等法院花蓮分院\" },\n  { \"id\": 17, \"value\": \"TPD\", \"text\": \"臺北地院\", \"description\": \"臺灣臺北地方法院\" },\n  { \"id\": 18, \"value\": \"SLD\", \"text\": \"士林地院\", \"description\": \"臺灣士林地方法院\" },\n  { \"id\": 19, \"value\": \"PCD\", \"text\": \"新北地院\", \"description\": \"臺灣新北地方法院\" },\n  { \"id\": 20, \"value\": \"ILD\", \"text\": \"宜蘭地院\", \"description\": \"臺灣宜蘭地方法院\" },\n  { \"id\": 21, \"value\": \"KLD\", \"text\": \"基隆地院\", \"description\": \"臺灣基隆地方法院\" },\n  { \"id\": 22, \"value\": \"TYD\", \"text\": \"桃園地院\", \"description\": \"臺灣桃園地方法院\" },\n  { \"id\": 23, \"value\": \"SCD\", \"text\": \"新竹地院\", \"description\": \"臺灣新竹地方法院\" },\n  { \"id\": 24, \"value\": \"MLD\", \"text\": \"苗栗地院\", \"description\": \"臺灣苗栗地方法院\" },\n  { \"id\": 25, \"value\": \"TCD\", \"text\": \"臺中地院\", \"description\": \"臺灣臺中地方法院\" },\n  { \"id\": 26, \"value\": \"CHD\", \"text\": \"彰化地院\", \"description\": \"臺灣彰化地方法院\" },\n  { \"id\": 27, \"value\": \"NTD\", \"text\": \"南投地院\", \"description\": \"臺灣南投地方法院\" },\n  { \"id\": 28, \"value\": \"ULD\", \"text\": \"雲林地院\", \"description\": \"臺灣雲林地方法院\" },\n  { \"id\": 29, \"value\": \"CYD\", \"text\": \"嘉義地院\", \"description\": \"臺灣嘉義地方法院\" },\n  { \"id\": 30, \"value\": \"TND\", \"text\": \"臺南地院\", \"description\": \"臺灣臺南地方法院\" },\n  { \"id\": 31, \"value\": \"KSD\", \"text\": \"高雄地院\", \"description\": \"臺灣高雄地方法院\" },\n  { \"id\": 32, \"value\": \"CTD\", \"text\": \"橋頭地院\", \"description\": \"臺灣橋頭地方法院\" },\n  { \"id\": 33, \"value\": \"HLD\", \"text\": \"花蓮地院\", \"description\": \"臺灣花蓮地方法院\" },\n  { \"id\": 34, \"value\": \"TTD\", \"text\": \"臺東地院\", \"description\": \"臺灣臺東地方法院\" },\n  { \"id\": 35, \"value\": \"PTD\", \"text\": \"屏東地院\", \"description\": \"臺灣屏東地方法院\" },\n  { \"id\": 36, \"value\": \"PHD\", \"text\": \"澎湖地院\", \"description\": \"臺灣澎湖地方法院\" },\n  { \"id\": 37, \"value\": \"KMH\", \"text\": \"金門高分院\", \"description\": \"福建高等法院金門分院\" },\n  { \"id\": 38, \"value\": \"KMD\", \"text\": \"金門地院\", \"description\": \"福建金門地方法院\" },\n  { \"id\": 39, \"value\": \"LCD\", \"text\": \"連江地院\", \"description\": \"福建連江地方法院\" },\n  { \"id\": 41, \"value\": \"KSY\", \"text\": \"高雄少家法院\", \"description\": \"臺灣高雄少年及家事法院\" },\n];\n\nexport { crimes, factors, factorGroups, courts };\n","import { crimes, factors, factorGroups, courts } from './spec';\n\nexport function parseCaseID(id) {\n  let m = id.match((/^(?<court>[A-Z]+),(?<year>\\d+),(?<case>[^,]+),(?<no>\\d+)$/));\n  if (m != null) {\n    // Leave out the court name if it’s Supreme Court\n    let court_name = m.groups.court === 'TPS' ? '' : courts.find((e) => e.value == m.groups.court).text;\n    return {\n      database_id: id,\n      court: m.groups.court,\n      year: m.groups.year,\n      case: m.groups.case,\n      no: m.groups.no,\n      formatted_text: `${court_name} ${m.groups.year} 年${m.groups.case}字第 ${m.groups.no} 號`\n    };\n  }\n};\n\nexport function formatSentence(sentence) {\n  if (sentence > 0) {\n    let year = Math.floor(sentence / 12);\n    if (year > 0) {\n      let month = sentence % 12;\n      return month > 0 ? `${year} 年 ${month} 個月` : `${year} 年`; }\n    else\n      return `${sentence} 個月`; }\n  else\n    return sentence === -1 ? '無期徒刑' :\n           sentence === -2 ? '死刑' :\n           '無罪'; // 無罪推定！(*ﾟ∀ﾟ)\n};\n\nexport function formatCaseURL(cid) {\n  return `https://law.judicial.gov.tw/FJUD/qryresult.aspx?jud_court=${cid.court}&jud_sys=M&jud_year=${cid.year}&jud_case=${cid.case}&jud_no=${cid.no}&judtype=JUDBOOK`;\n}\n\nfunction filterSpec(list) {\n  const date = new Date(); // TODO: Allow selecting pre-amendment items?\n  return list.filter((item) => (\n    (item.valid_before === undefined || date < item.valid_before) &&\n    (item.valid_after === undefined || date >= item.valid_after)\n  ));\n}\n\nexport function useCrimes() {\n  return filterSpec(crimes);\n}\n\nexport function useFactors() {\n  return filterSpec(factors);\n}\n\nexport function useFactorGroups() {\n  const factors = useFactors();\n  return factorGroups.map((group) => ({\n    ...group,\n    factors: group.factors.map((name) => factors.find((factor) => factor.name === name)),\n  }));\n}\n\nexport function useCrimeCategories() {\n  const crimes = useCrimes();\n  const categories = new Map();\n\n  crimes.forEach((crime) => {\n    if (!categories.has(crime.category))\n      categories.set(crime.category, {\n        title: crime.category,\n        kinds: new Map(),\n      });\n\n    let kinds = categories.get(crime.category).kinds;\n    if (!kinds.has(crime.kind))\n      kinds.set(crime.kind, {\n        text: crime.kind,\n        stages: new Set(),\n        variants: new Set(),\n        disabled: true,\n        disabledStages: new Set(),\n      });\n\n    let kind = kinds.get(crime.kind);\n    if (crime.stage) kind.stages.add(crime.stage);\n    if (crime.variant) kind.variants.add(crime.variant);\n    kind.disabled = kind.disabled && crime.disabled;\n    if (crime.disabled) kind.disabledStages.add(crime.stage);\n  });\n\n  for (let category of categories.values())\n    for (let kind of category.kinds.values()) {\n      // Expand as array, or null out if there are no alternatives\n      kind.stages = kind.stages.size > 1 ? [...kind.stages] : null;\n      kind.variants = kind.variants.size > 0 ? [...kind.variants] : null;\n    }\n\n  return categories;\n}\n\n// Polyfill for pre-Material UI 5.0\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nexport function alpha(color, value) {\n  return fade(color, 1 - value);\n}\n","import { React, useState } from 'react';\n//import SwipeableViews from 'react-swipeable-views';\nimport { Tabs, Tab, ButtonGroup, Button, Checkbox, FormControl, FormControlLabel, FormGroup, Radio, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport { useCrimes, useCrimeCategories, alpha } from '../util';\n\nconst nameOfStages = new Map([\n  [\"preparatory\", \"預備\"],\n  [\"attempted\", \"未遂\"],\n  [\"accomplished\", \"既遂\"],\n]);\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n  },\n  tab: {\n    minWidth: 64,\n    flexGrow: 1,\n  },\n  panel: {\n    margin: theme.spacing(1),\n  },\n  controls: {\n    display: 'flex',\n    marginBottom: theme.spacing(2),\n    '&:last-child': {\n      marginBottom: 0,\n    }\n  },\n  label: {\n    color: theme.palette.text.secondary,\n    ...theme.typography.subtitle2,\n  },\n  stage: {\n    flexGrow: 1,\n  },\n}), { name: 'CrimeSelector' });\n\nconst TabPanel = (props) => {\n  const { children, currentIndex, index, ...others } = props;\n  return (\n    <div role=\"tabpanel\" hidden={currentIndex !== index} id={`crime-panel-${index}`} aria-labelledby={`crime-tab-${index}`} {...others}>\n      { currentIndex === index && children }\n    </div>\n  );\n};\n\nconst ToggleButton = (props) => {\n  const classes = makeStyles((theme) => ({\n    root: {\n    },\n    checked: {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText,\n      '&:hover': {\n        backgroundColor: alpha(theme.palette.secondary.main, theme.palette.action.hoverOpacity),\n        '@media (hover: none)': {\n          backgroundColor: 'transparent',\n        },\n      },\n    },\n  }), { name: 'ToggleButton' })();\n  const { checked, className, ...others } = props;\n  return <Button aria-checked={checked} className={clsx(classes.root, checked ? classes.checked : null, className)} {...others} />;\n};\n\nexport default function CrimeSelector(props) {\n  const classes = useStyles();\n  const crimes = useCrimes();\n  const categories = useCrimeCategories();\n  const listOfCategories = [...categories.values()];\n\n  // Props\n  const { value, onChange } = props;\n\n  // Calculate controls’ state base on prop value\n  const crime = crimes.find((c) => c.value === value);\n  const category = crime ? categories.get(crime.category) : listOfCategories[0];\n  const kind = crime ? category.kinds.get(crime.kind) : null;\n\n  // Our only state; index of the active tab should be independent from prop value or you will never be able to change tabs\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  // Event handlers\n  const handleTabChange = (_, newValue) => setCurrentIndex(newValue);\n\n  const handleFiltering = (e, kind, stage, variant) => {\n    let candidate = crimes.find((c) => (kind === c.kind && (!stage || stage === c.stage) && (!variant || variant === c.variant)));\n    if (candidate) onChange(e, candidate.value);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Tabs value={currentIndex} onChange={handleTabChange}\n        indicatorColor=\"primary\" textColor=\"primary\" variant=\"fullWidth\" aria-label=\"罪名分類\">\n        { listOfCategories.map((c, index) =>\n          <Tab key={c.title} value={index} label={c.title}\n            id={`crime-tab-${index}`} aria-controls={`crime-panel-${index}`} className={classes.tab} />\n        )}\n      </Tabs>\n      { listOfCategories.map((c, index) =>\n        <TabPanel key={c.title} currentIndex={currentIndex} index={index} className={classes.panel}>\n          <FormControl component=\"fieldset\">\n            { Array.from(c.kinds.values(), (k) =>\n              <FormControlLabel key={k.text} value={k.text} checked={k.text === kind?.text} disabled={k.disabled} control={<Radio />} label={k.text} onClick={(e) => handleFiltering(e, e.target.value)} />\n            )}\n          </FormControl>\n        </TabPanel>\n      )}\n      <div className={classes.panel}>\n        { (kind?.stages) &&\n          <FormControl component=\"fieldset\" className={classes.controls}>\n            <Typography component=\"label\" id=\"stages-label\" className={classes.label} gutterBottom>犯罪階段</Typography>\n            <ButtonGroup color=\"primary\" variant=\"outlined\" role=\"radiogroup\" aria-labelledby=\"stages-label\">\n              { Array.from(nameOfStages.keys(), (s) => kind.stages.includes(s) &&\n                <ToggleButton key={s} role=\"radio\" checked={crime.stage === s} disabled={kind.disabledStages.has(s)} onClick={(e) => handleFiltering(e, crime.kind, s)} className={classes.stage}>{nameOfStages.get(s)}</ToggleButton>\n              )}\n            </ButtonGroup>\n          </FormControl>\n        }\n        { (kind?.variants) &&\n          <FormControl component=\"fieldset\" className={classes.controls}>\n            <Typography component=\"legend\" className={classes.label}>特別規定</Typography>\n            <FormGroup>\n              { kind.variants.map((v) =>\n                <FormControlLabel key={v} label={v} control={\n                  <Checkbox checked={crime.variant === v} onChange={(e) => handleFiltering(e, crime.kind, crime.stage, e.target.checked ? v : null)} />\n                } />\n              )}\n            </FormGroup>\n          </FormControl>\n        }\n      </div>\n    </div>\n  );\n};\n","import { React, useState } from 'react';\nimport { FormControl, Grid, MenuItem, Select, Typography } from '@material-ui/core';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport FactorCheckBox from '../controls/FactorCheckBox';\nimport FactorSlider from '../controls/FactorSlider';;\nimport FormAccordion from '../controls/FormAccordion';\nimport CrimeSelector from './CrimeSelector';\nimport { useCrimes, useFactorGroups } from '../util';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // Dynamic grid spacing (2 -> 4)\n    margin: `-${theme.spacing(1)}px`,\n    width: `calc(100% + ${theme.spacing(2)}px)`,\n    '& > div': { padding: theme.spacing(1) },\n    [theme.breakpoints.up('md')]: {\n      margin: `-${theme.spacing(2)}px`,\n      width: `calc(100% + ${theme.spacing(4)}px)`,\n      '& > div': { padding: theme.spacing(2) },\n    }\n  },\n  selectTitle: {\n    flexShrink: 0,\n  },\n  selectControl: {\n    marginLeft: theme.spacing(2),\n    flexGrow: 1,\n    flexShrink: 1,\n  },\n}), { name: 'AppForm' });\n\nconst CrimeSelect = withStyles((theme) => ({\n  select: {\n    color: theme.palette.text.secondary,\n    '&:focus': {\n      color: theme.palette.text.primary,\n    },\n  },\n}), { name: 'CrimeSelect' })((props) => {\n  const {value, ...others} = props;\n  const crimes = useCrimes();\n  crimes.sort((a, b) => a.value - b.value);\n\n  return (\n    <Select displayEmpty value={value >= 0 ? value : \"\"}\n      inputProps={{ \"aria-label\": \"罪名\" }} IconComponent=\"div\" {...others}>\n      <MenuItem value=\"\" disabled>適用條文</MenuItem>\n      { crimes.map((crime) => (\n        <MenuItem key={crime.value} value={crime.value} disabled={crime.disabled}>{crime.text}</MenuItem>\n      )) }\n    </Select>\n  );\n});\n\nexport default function AppForm(props) {\n  const classes = useStyles();\n  const factorGroups = useFactorGroups();\n  const { crime, factors, showFilter, onCrimeChanged, onFactorChanged, ...others } = props;\n\n  return (\n    <Grid container component=\"form\" className={classes.root} {...others}>\n      <Grid item xs={12} sm={6} md={12} lg={6}>\n        <FormAccordion defaultExpanded={true}\n          summary={(\n            <>\n              <Typography variant=\"h6\" className={classes.selectTitle}>罪名</Typography>\n              <FormControl className={classes.selectControl}>\n                <CrimeSelect name=\"crime\" value={crime}\n                  onChange={(e) => onCrimeChanged(e.target.value)}\n                  onClick={(e) => e.stopPropagation()} />\n              </FormControl>\n            </>\n          )}>\n          <CrimeSelector value={crime} onChange={(_, newValue) => onCrimeChanged(newValue)} />\n        </FormAccordion>\n      </Grid>\n      <Grid item xs={12} sm={6} md={12} lg={6}>\n        { factorGroups.map((group) => (\n          <FormAccordion key={group.title}\n            defaultExpanded={group.type !== \"binary\"}\n            summary={(<Typography variant=\"h6\">{group.title}</Typography>)}>\n            { group.factors.map((factor) => (\n              <div key={factor.name}>\n                { group.type === \"binary\" ?\n                  <FactorCheckBox name={factor.name} value={factors[factor.name] !== undefined ? factors[factor.name] : 0} label={factor.text} vibe={group.vibe} disabled={factor.disabled} onChange={onFactorChanged} /> :\n                  <FactorSlider name={factor.name} value={factors[factor.name] !== undefined ? factors[factor.name] : 0} label={factor.text} onChange={onFactorChanged} disabled={factor.disabled} />\n                }\n              </div>\n              ))}\n          </FormAccordion>\n        )) }\n      </Grid>\n    </Grid>\n  );\n};\n","import { React, Component } from 'react';\nimport { Divider, IconButton, ListItemIcon, ListItemText, Menu, MenuItem } from '@material-ui/core';\nimport {\n  CheckBox as CheckBoxIcon,\n  CheckBoxOutlineBlank as UncheckedBoxIcon,\n  Feedback as FeedbackIcon,\n  Help as HelpIcon,\n  MoreVert as MoreIcon,\n  } from '@material-ui/icons';\n\n\nclass AppMenu extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { anchorEl: null };\n    this.handleButtonClick = this.handleButtonClick.bind(this);\n    this.handleFilterItemClick = this.handleFilterItemClick.bind(this);\n    this.handleHelpItemClick = this.handleHelpItemClick.bind(this);\n    this.handleFeedbackItemClick = this.handleFeedbackItemClick.bind(this);\n    this.handleMenuClose = this.handleMenuClose.bind(this);\n  }\n\n  handleButtonClick(e) {\n    this.setState({ anchorEl: e.currentTarget });\n  }\n\n  handleFilterItemClick() {\n    // Use props showFilter and onShowFilterChanged\n    this.onShowFilterChanged(!this.props.showFilter);\n    this.handleMenuClose();  // Should we close menu for this one?\n  }\n\n  handleHelpItemClick() {\n    this.handleMenuClose();\n  }\n\n  handleFeedbackItemClick() {\n    // Well, we’re just doing our part. Don’t nag us for model inaccuracies.\n    window.open(\"https://github.com/rschiang/sentencing-ui/issues\", \"_blank\");\n    this.handleMenuClose();\n  }\n\n  handleMenuClose() {\n    this.setState({ anchorEl: null });\n  }\n\n  render() {\n    const anchorOrigin = { vertical: 'top', horizontal: 'right'};\n    const transformOrigin = { vertical: 'top', horizontal: 'right'};\n\n    return (\n      <>\n        <IconButton\n          aria-controls=\"menu\" aria-haspopup=\"true\"\n          aria-label=\"開啟功能表\" color=\"inherit\" onClick={this.handleButtonClick}>\n          <MoreIcon />\n        </IconButton>\n        <Menu\n          id=\"menu\" keepMounted anchorEl={this.state.anchorEl}\n          anchorOrigin={anchorOrigin} transformOrigin={transformOrigin} getContentAnchorEl={null}\n          open={Boolean(this.state.anchorEl)} onClose={this.handleMenuClose}>\n          <MenuItem onClick={this.handleFilterItemClick} disabled>\n            <ListItemIcon>\n              { this.props.showFilter ? <CheckBoxIcon color=\"secondary\" /> : <UncheckedBoxIcon /> }\n            </ListItemIcon>\n            <ListItemText primary=\"顯示修正前條文\" />\n          </MenuItem>\n          <Divider />\n          <MenuItem onClick={this.handleHelpItemClick}>\n            <ListItemIcon><HelpIcon /></ListItemIcon>\n            <ListItemText primary=\"使用說明\" />\n          </MenuItem>\n          <MenuItem onClick={this.handleFeedbackItemClick}>\n            <ListItemIcon><FeedbackIcon /></ListItemIcon>\n            <ListItemText primary=\"回報問題\" />\n          </MenuItem>\n        </Menu>\n      </>\n    );\n  }\n}\n\nexport default AppMenu;\n","import React from 'react';\nimport { Accordion, AccordionSummary, AccordionDetails, Button, Table, TableContainer, TableBody, TableRow, TableCell, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport OpenInNewIcon from '@material-ui/icons/OpenInNew';\nimport { parseCaseID, formatSentence, formatCaseURL, useFactors } from '../util';\n\nconst useStyles = makeStyles((theme) => ({\n  heading: {\n    flexGrow: 1,\n  },\n  subheading: {\n    color: theme.palette.text.secondary,\n  },\n  details: {\n    flexDirection: 'column',\n  },\n  tableWrapper: {\n    marginTop: theme.spacing(1) - 20,\n    marginBottom: 20 - theme.spacing(1),\n  },\n  sourceButton: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2), // Align with table\n    alignSelf: 'start',\n  },\n}));\n\nexport default function CaseAccordion(props) {\n  const classes = useStyles();\n  const factors = useFactors();\n  const case_id = parseCaseID(props.id);\n\n  return (\n    <Accordion>\n      <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n        <Typography variant=\"subtitle1\" className={classes.heading}>{ case_id.formatted_text }</Typography>\n        <Typography variant=\"subtitle1\" className={classes.subheading}>{ `${Math.round(props.relevance * 100)}%` }：{ formatSentence(props.sentence) }</Typography>\n      </AccordionSummary>\n      <AccordionDetails className={classes.details}>\n        { props.labels && (\n        <TableContainer className={classes.tableWrapper}>\n          <Table aria-label=\"量刑因素標記\">\n            <TableBody>\n              { props.labels.map((label) =>\n                <TableRow>\n                  <TableCell component=\"th\" scope=\"row\">{ factors.find(i => i.name == label.factor)?.text || label.factor }</TableCell>\n                  <TableCell>{ label.value === 1 ? '+' : label.value === -1 ? '-' : label.value === 0 ? null : label.value }</TableCell>\n                  <TableCell>{ label.summary }</TableCell>\n                </TableRow>\n              ) }\n            </TableBody>\n          </Table>\n        </TableContainer>\n        )}\n        <Button className={classes.sourceButton} endIcon={<OpenInNewIcon />}\n          target=\"_blank\" href={formatCaseURL(case_id)}>\n          在法學資料檢索系統檢視\n        </Button>\n      </AccordionDetails>\n    </Accordion>\n  );\n}\n","// api.js -\n// This file is where we load and treat non-spec conforming APIs, normalizing their data.\n\nimport { useFactors } from './util';\n\nconst API_URL = 'https://35.229.167.36/v1/predictions'; /*! The API used in this project not affiliated nor endorsed technically or academically by the project author. */\nconst ERROR_MARGIN = 18; // MAE as given\n\nconsole.info('%cNote: The API used in this project is not endorsed by project developer. See LICENSE.txt for details.', 'font-style: italic; color: gray');\n\nexport const fetchPrediction = async (crime, factors) => {\n  // Map all the parameters to a FormData object\n  const formData = new URLSearchParams();\n  formData.append('Svalue', crime);\n\n  // Iterate over know factors or the API wouldn’t be pleased :/\n  useFactors().forEach((factor) => {\n    let value = factors[factor.name];\n    formData.append(factor.name, value !== undefined ? value : 0);\n  });\n\n  const response = await fetch(API_URL, {\n    method: 'POST',\n    headers: {\n      'X-Requested-With': 'Sentencing-UI',\n    },\n    body: formData,\n    mode: 'cors',\n    credentials: 'omit',\n    cache: 'no-store',\n    /* // We’re not using these options for now, but it’s nice to put it here\n    // in case we need a more complex implementation.\n    redirect: 'follow',\n    keepalive: false,\n    signal: new AbortController().signal,\n    */\n  });\n\n  if (!response.ok) {\n    // Note that the body of the error is just plain text error message\n    // instead of a proper JSON object. We’re not sniffing them here.\n    throw new Error(`API call failed: HTTP ${response.status}`);\n  }\n\n  const data = await response.json();\n\n  // Reformat the data to match the application spec\n  return {\n    estimation: data.estimation,\n    errorMargin: ERROR_MARGIN,\n    related_cases: data.related_cases.map((c) => ({\n      _pk: c.caseindex,\n      id: c.shortid2,\n      relevance: c.sim,\n      crime: c.Svalue,\n      sentence: c.prison_m,\n      subject: c.subject,\n      labels: c.labels.map((l) => ({\n        factor: l.Ctype,\n        summary: l.Ctext,\n        value: l.Cvalue\n      }))\n    }))\n  };\n}\n","import { React, useState } from 'react';\nimport { AppBar, Avatar, CircularProgress, Grid, Paper, Toolbar, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport GavelIcon from '@material-ui/icons/Gavel';\nimport FormToolbar from '../controls/FormToolbar';\nimport AppForm from './AppForm';\nimport AppMenu from './AppMenu';\nimport CaseAccordion from './CaseAccordion';\nimport { formatSentence } from '../util';\nimport { fetchPrediction } from '../api';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n  },\n  logo: {\n    marginRight: theme.spacing(1),\n    backgroundColor: theme.palette.secondary[400],\n  },\n  title: {\n    flexGrow: 1,\n  },\n  main: {\n    width: '100vw',\n    minHeight: '100vh',\n    overflowX: 'hidden',\n    backgroundColor: theme.palette.background.default,\n\n    /* ToolBar mixin, but with padding */\n    paddingTop: 56,\n    [`${theme.breakpoints.up('xs')} and (orientation: landscape)`]: {\n      paddingTop: 48,\n    },\n    [theme.breakpoints.up('sm')]: {\n      paddingTop: 64,\n    },\n    [theme.breakpoints.up('md')]: {\n      height: '100vh',\n    }\n  },\n  pane: {\n    [theme.breakpoints.up('md')]: {\n      height: '100%',\n      overflowY: 'scroll',\n    },\n  },\n  content: {\n    margin: theme.spacing(4),\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  controls: {\n    marginTop: theme.spacing(2),\n    alignSelf: 'end',\n    [theme.breakpoints.up('md')]: {\n      position: 'sticky',\n      bottom: theme.spacing(4),\n    },\n  },\n  progress: {\n    alignSelf: 'center',\n  },\n  crimePanel: {\n    padding: theme.spacing(2),\n  },\n  onboardingPanel: {\n    color: theme.palette.text.secondary,\n    textAlign: 'center',\n  },\n}), { name: 'App' });\n\nexport default function App() {\n  const classes = useStyles();\n\n  // Form states\n  const [crime, setCrime] = useState(-1);\n  const [factors, setFactors] = useState({});\n  const [showFilter, setShowFilter] = useState(false);\n\n  // Application states\n  const [status, setStatus] = useState('blank');\n  const [data, setData] = useState({});\n\n  const handleFactorChanged = (_, name, value) => {\n    setFactors((factors) => ({...factors, [name]: value}));\n  };\n\n  const handleSubmitForm = () => {\n    // Clear out the current information\n    setStatus('loading');\n    setData({});\n\n    // Build up form request and call API\n    fetchPrediction(crime, factors)\n    .then((data) => {\n      console.log(data);\n      setData(data);\n      setStatus('ready');\n    })\n    .catch((e) => {\n      console.log(e);\n      setStatus('error');\n    });\n  };\n\n  const handleClearForm = () => {\n    setCrime(-1);\n    setFactors({});\n    setStatus('blank');\n  };\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"fixed\">\n        <Toolbar>\n          <Avatar className={classes.logo}>\n            <GavelIcon />\n          </Avatar>\n          <Typography variant=\"h6\" noWrap className={classes.title}>\n            司法院量刑資訊系統\n          </Typography>\n          <AppMenu showFilter={showFilter} onShowFilterChanged={setShowFilter} />\n        </Toolbar>\n      </AppBar>\n      <Grid container component=\"main\" className={classes.main}>\n        <Grid item xs={12} md={6} lg={7} xl={6} component={Paper} elevation={3} className={classes.pane}>\n          <div className={classes.content}>\n            <AppForm crime={crime} factors={factors} showFilter={showFilter} onCrimeChanged={setCrime} onFactorChanged={handleFactorChanged} />\n            <FormToolbar className={classes.controls} canSubmit={crime >= 0} onSubmit={handleSubmitForm} onClear={handleClearForm} />\n          </div>\n        </Grid>\n        <Grid item xs={12} md={6} lg={5} xl={6} className={classes.pane}>\n          <div className={classes.content}>\n            { status === 'loading' &&\n              <CircularProgress className={classes.progress} />\n            }\n            { status === 'ready' &&\n              <>\n                <Paper elevation={1} className={classes.crimePanel}>\n                  <Typography variant=\"overline\" gutterBottom>量刑預測</Typography>\n                  <Typography variant=\"h4\" component=\"div\">{\n                    data.estimation > data.errorMargin ?\n                    `${formatSentence(data.estimation - data.errorMargin)} ~ ${formatSentence(data.estimation + data.errorMargin)}` :\n                    formatSentence(data.estimation)\n                  }</Typography>\n                </Paper>\n                { data.related_cases.map((i) =>\n                  <CaseAccordion key={i.id} {...i} />\n                )}\n              </>\n            }\n            { status === 'blank' &&\n              <div className={classes.onboardingPanel}>\n                <Typography variant=\"body1\">輸入變項後，按一下「計算」以取得預測結果。</Typography>\n              </div>\n            }\n            { status === 'error' &&\n              <div className={classes.onboardingPanel}>\n                <Typography variant=\"body1\">伺服器或網路錯誤，請再試一次。</Typography>\n              </div>\n            }\n          </div>\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n","/*! sentencing-ui: https://github.com/rschiang/sentencing-ui */\n\nimport React from 'react';\nimport { hydrate, render } from 'react-dom';\nimport CSSBaseline from '@material-ui/core/CssBaseline';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport theme from './theme';\nimport Page from './parts/Page';\n\nconst rootElement = document.getElementById('root');\nconst App = (\n  <ThemeProvider theme={theme}>\n    <CSSBaseline />\n    <Page />\n  </ThemeProvider>\n);\n\nif (rootElement.hasChildNodes())\n  hydrate(App, rootElement);\nelse\n  render(App, rootElement);\n"],"sourceRoot":""}